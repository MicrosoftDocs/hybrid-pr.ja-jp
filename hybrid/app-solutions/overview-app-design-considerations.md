---
title: Azure と Azure Stack Hub でのハイブリッド アプリの設計に関する考慮事項
description: インテリジェント クラウドとインテリジェント エッジ向けのハイブリッド アプリを構築する際の設計に関する考慮事項 (配置、スケーラビリティ、可用性、回復性など) について説明します。
author: BryanLa
ms.topic: article
ms.date: 06/07/2020
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: c56575ac8ea6cb35d60bb9419269db89b0295721
ms.sourcegitcommit: d2def847937178f68177507be151df2aa8e25d53
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/20/2020
ms.locfileid: "86477220"
---
# <a name="hybrid-app-design-considerations"></a><span data-ttu-id="24774-103">ハイブリッド アプリの設計上の考慮事項</span><span class="sxs-lookup"><span data-stu-id="24774-103">Hybrid app design considerations</span></span>

<span data-ttu-id="24774-104">Microsoft Azure は、一貫性のある唯一のハイブリッド クラウドです。</span><span class="sxs-lookup"><span data-stu-id="24774-104">Microsoft Azure is the only consistent hybrid cloud.</span></span> <span data-ttu-id="24774-105">これにより、開発への投資を再利用でき、グローバル Azure、Azure のソブリン クラウド、およびデータセンター内の Azure の拡張機能である Azure Stack にまたがるアプリを使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="24774-105">It allows you to reuse your development investments and enables apps that can span global Azure, the sovereign Azure clouds, and Azure Stack, which is an extension of Azure in your datacenter.</span></span> <span data-ttu-id="24774-106">クラウドをまたぐアプリは "*ハイブリッド アプリ*" とも呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="24774-106">Apps that span clouds are also referred to as *hybrid apps*.</span></span>

<span data-ttu-id="24774-107">「[*Azure アプリケーション アーキテクチャ ガイド*](/azure/architecture/guide)」には、スケーラブルで回復力がある高可用性のアプリを設計するための体系化された方法が示されています。</span><span class="sxs-lookup"><span data-stu-id="24774-107">The [*Azure Application Architecture Guide*](/azure/architecture/guide) describes a structured approach for designing apps that are scalable, resilient, and highly available.</span></span> <span data-ttu-id="24774-108">「[*Azure アプリケーション アーキテクチャ ガイド*](/azure/architecture/guide)」で説明されている考慮事項は、単一のクラウド向けに設計されたアプリや、クラウドをまたがるアプリにも同様に適用されます。</span><span class="sxs-lookup"><span data-stu-id="24774-108">The considerations described in the [*Azure Application Architecture Guide*](/azure/architecture/guide) equally apply to apps that are designed for a single cloud and for apps that span clouds.</span></span>

<span data-ttu-id="24774-109">この記事は、「[*Azure アプリケーション*](/azure/architecture/guide/) [*アーキテクチャ ガイド*](/azure/architecture/guide/)」で説明されている "[*ソフトウェア品質の要点*](/azure/architecture/guide/pillars)" を補強するもので、特にハイブリッド アプリの設計に重点を置いています。</span><span class="sxs-lookup"><span data-stu-id="24774-109">This article augments the [*Pillars of software quality*](/azure/architecture/guide/pillars) discussed in the [*Azure Application*](/azure/architecture/guide/) [*Architecture Guide*,](/azure/architecture/guide/) focusing specifically on designing hybrid apps.</span></span> <span data-ttu-id="24774-110">また、ハイブリッド アプリは 1 つのクラウドや 1 つのオンプレミス データセンターに限定されないため、要点として "*配置*" を追加しています。</span><span class="sxs-lookup"><span data-stu-id="24774-110">In addition, we add a *placement* pillar as hybrid apps aren't exclusive to one cloud or one on-premises datacenter.</span></span>

<span data-ttu-id="24774-111">ハイブリッド シナリオは、開発で使用できるリソースによって大きく異なり、地理、セキュリティ、インターネット アクセスなど、考慮事項は多岐にわたります。</span><span class="sxs-lookup"><span data-stu-id="24774-111">Hybrid scenarios vary greatly with the resources that are available for development, and span considerations such as geography, security, internet access, and other considerations.</span></span> <span data-ttu-id="24774-112">このガイドでは、特定の考慮事項を列挙することはできませんが、従うべきいくつかの重要なガイドラインとベスト プラクティスを紹介します。</span><span class="sxs-lookup"><span data-stu-id="24774-112">Although this guide can't enumerate your specific considerations, it can provide some key guidelines and best practices for you to follow.</span></span> <span data-ttu-id="24774-113">ハイブリッド アプリ アーキテクチャの設計、構成、展開、および保守を正常に行うには、本質的に知られていない可能性がある多くの設計上の考慮事項に対応する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-113">Successfully designing, configuring, deploying, and maintaining a hybrid app architecture involves many design considerations that might not be inherently known to you.</span></span>

<span data-ttu-id="24774-114">このドキュメントでは、ハイブリッド アプリを実装するときに発生する可能性のある課題を集約し、それらを扱うための考慮事項 (これらの要点) とベスト プラクティスについて説明します。</span><span class="sxs-lookup"><span data-stu-id="24774-114">This document aims to aggregate the possible questions that might arise when implementing hybrid apps and provides considerations (these pillars) and best practices to work with them.</span></span> <span data-ttu-id="24774-115">設計段階でこれらの課題に対処することで、運用環境で発生する可能性がある問題を回避できます。</span><span class="sxs-lookup"><span data-stu-id="24774-115">By addressing these questions during the design phase, you'll avoid the issues they could cause in production.</span></span>

<span data-ttu-id="24774-116">基本的に、ハイブリッド アプリを作成する前に、次の課題について考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-116">Essentially, these are questions you need to think about before creating a hybrid app.</span></span> <span data-ttu-id="24774-117">開始するには、次のことを行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-117">To get started, you need to do the following things:</span></span>

- <span data-ttu-id="24774-118">アプリ コンポーネントを特定して評価する。</span><span class="sxs-lookup"><span data-stu-id="24774-118">Identify and evaluate the app components.</span></span>
- <span data-ttu-id="24774-119">アプリ コンポーネントを要点に照らして評価する。</span><span class="sxs-lookup"><span data-stu-id="24774-119">Evaluate app components against the pillars.</span></span>

## <a name="evaluate-the-app-components"></a><span data-ttu-id="24774-120">アプリ コンポーネントを評価する</span><span class="sxs-lookup"><span data-stu-id="24774-120">Evaluate the app components</span></span>

<span data-ttu-id="24774-121">アプリの各コンポーネントには、大規模なアプリ内での固有の役割があるため、設計上のすべての考慮事項を検討する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-121">Each component of an app has its own specific role within the larger app and should be reviewed with all design considerations.</span></span> <span data-ttu-id="24774-122">各コンポーネントの要件と機能は、アプリのアーキテクチャの決定に役立つように、これらの考慮事項に対応している必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-122">Each component's requirements and features should map to these considerations to help determine the app architecture.</span></span>

<span data-ttu-id="24774-123">アプリのアーキテクチャを調べ、その構成要素を確認することによって、アプリをコンポーネントに分解します。</span><span class="sxs-lookup"><span data-stu-id="24774-123">Decompose your app into its components by studying your app's architecture and determining what it consists of.</span></span> <span data-ttu-id="24774-124">コンポーネントには、アプリが対話する他のアプリを含めることもできます。</span><span class="sxs-lookup"><span data-stu-id="24774-124">Components can also include other apps that your app interacts with.</span></span> <span data-ttu-id="24774-125">コンポーネントを識別する際には、次の質問を行い、その特性に従って、目的のハイブリッド操作を評価します。</span><span class="sxs-lookup"><span data-stu-id="24774-125">As you identify the components, evaluate your intended hybrid operations according to their characteristics by asking these questions:</span></span>

- <span data-ttu-id="24774-126">コンポーネントの目的は何ですか?</span><span class="sxs-lookup"><span data-stu-id="24774-126">What is the purpose of the component?</span></span>
- <span data-ttu-id="24774-127">コンポーネント間にはどのような依存関係がありますか?</span><span class="sxs-lookup"><span data-stu-id="24774-127">What are the interdependencies between the components?</span></span>

<span data-ttu-id="24774-128">たとえば、アプリではフロントエンドとバックエンドを 2 つのコンポーネントとして定義できます。</span><span class="sxs-lookup"><span data-stu-id="24774-128">For example, an app can have a front end and back end defined as two components.</span></span> <span data-ttu-id="24774-129">ハイブリッドシナリオでは、フロントエンドは一方のクラウドにあり、バックエンドはもう一方のクラウドにあります。</span><span class="sxs-lookup"><span data-stu-id="24774-129">In a hybrid scenario, the front end is in one cloud and the back end is in the other.</span></span> <span data-ttu-id="24774-130">アプリは、フロントエンドとユーザーの間、およびフロントエンドとバックエンドの間の通信チャネルを提供します。</span><span class="sxs-lookup"><span data-stu-id="24774-130">The app provides communication channels between the front end and the user, and also between the front end and the back end.</span></span>

<span data-ttu-id="24774-131">アプリ コンポーネントは、さまざまな形式とシナリオで定義されます。</span><span class="sxs-lookup"><span data-stu-id="24774-131">An app component is defined by many forms and scenarios.</span></span> <span data-ttu-id="24774-132">最も重要なタスクは、それらとそのクラウドまたはオンプレミスの場所を特定することです。</span><span class="sxs-lookup"><span data-stu-id="24774-132">The most important task is identifying them and their cloud or on-premises location.</span></span>

<span data-ttu-id="24774-133">インベントリに含める共通のアプリ コンポーネントを表 1 に示します。</span><span class="sxs-lookup"><span data-stu-id="24774-133">The common app components to include in your inventory are listed in Table 1.</span></span>

### <a name="table-1-common-app-components"></a><span data-ttu-id="24774-134">表 1</span><span class="sxs-lookup"><span data-stu-id="24774-134">Table 1.</span></span> <span data-ttu-id="24774-135">共通のアプリのコンポーネント</span><span class="sxs-lookup"><span data-stu-id="24774-135">Common app components</span></span>

| <span data-ttu-id="24774-136">**コンポーネント**</span><span class="sxs-lookup"><span data-stu-id="24774-136">**Component**</span></span> | <span data-ttu-id="24774-137">**ハイブリッド アプリのガイダンス**</span><span class="sxs-lookup"><span data-stu-id="24774-137">**Hybrid app guidance**</span></span> |
| ---- | ---- |
| <span data-ttu-id="24774-138">クライアント接続</span><span class="sxs-lookup"><span data-stu-id="24774-138">Client connections</span></span> | <span data-ttu-id="24774-139">アプリ (任意のデバイス上にあるもの) は、単一のエントリ ポイントから、次のような方法を含むさまざまな方法でユーザーにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="24774-139">Your app (on any device) can access users in various ways, from a single-entry point, including the following ways:</span></span><br><span data-ttu-id="24774-140">- アプリを操作するためにクライアントをインストールすることをユーザーに要求するクライアント/サーバー モデル。</span><span class="sxs-lookup"><span data-stu-id="24774-140">-   A client-server model that requires the user to have a client installed to work with the app.</span></span> <span data-ttu-id="24774-141">ブラウザーからアクセスされるサーバーベースのアプリ。</span><span class="sxs-lookup"><span data-stu-id="24774-141">A server-based app that's accessed from a browser.</span></span><br><span data-ttu-id="24774-142">- クライアント接続には、接続が切断されたときの通知や、ローミング料金が適用される可能性がある場合のアラートを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="24774-142">-   Client connections can include notifications when the connection is broken or alerts when roaming charges may apply.</span></span> |
| <span data-ttu-id="24774-143">認証</span><span class="sxs-lookup"><span data-stu-id="24774-143">Authentication</span></span>  | <span data-ttu-id="24774-144">認証は、アプリに接続しているユーザー、または別のコンポーネントに接続しているコンポーネントに対して必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="24774-144">Authentication can be required for a user connecting to the app, or from one component connecting to another.</span></span> |
| <span data-ttu-id="24774-145">API</span><span class="sxs-lookup"><span data-stu-id="24774-145">APIs</span></span>  | <span data-ttu-id="24774-146">開発者に対し、API セットとクラス ライブラリを使用したアプリへのプログラムによるアクセスを提供し、インターネット標準に基づく接続インターフェイスを提供できます。</span><span class="sxs-lookup"><span data-stu-id="24774-146">You can provide developers with programmatic access to your app with API sets and class libraries and provide a connection interface based on internet standards.</span></span> <span data-ttu-id="24774-147">API を使用して、アプリを独立して動作する論理ユニットに分解することもできます。</span><span class="sxs-lookup"><span data-stu-id="24774-147">You can also use APIs to decompose an app into independently operating logical units.</span></span> |
| <span data-ttu-id="24774-148">サービス</span><span class="sxs-lookup"><span data-stu-id="24774-148">Services</span></span>  | <span data-ttu-id="24774-149">簡潔なサービスを使用して、アプリの機能を提供することができます。</span><span class="sxs-lookup"><span data-stu-id="24774-149">You can employ succinct services to provide the features for an app.</span></span> <span data-ttu-id="24774-150">サービスは、アプリが実行されているエンジンである場合があります。</span><span class="sxs-lookup"><span data-stu-id="24774-150">A service can be the engine that the app runs on.</span></span> |
| <span data-ttu-id="24774-151">キュー</span><span class="sxs-lookup"><span data-stu-id="24774-151">Queues</span></span> | <span data-ttu-id="24774-152">キューを使用して、ライフサイクルの状態とアプリのコンポーネントの状態を整理できます。</span><span class="sxs-lookup"><span data-stu-id="24774-152">You can use queues to organize the status of the life cycles and states of your app's components.</span></span> <span data-ttu-id="24774-153">これらのキューは、メッセージング、通知、およびバッファリング機能をサブスクライブ側に提供できます。</span><span class="sxs-lookup"><span data-stu-id="24774-153">These queues can provide messaging, notifications, and buffering capabilities to subscribing parties.</span></span> |
| <span data-ttu-id="24774-154">データ ストレージ</span><span class="sxs-lookup"><span data-stu-id="24774-154">Data storage</span></span> | <span data-ttu-id="24774-155">アプリは、ステートレスまたはステートフルにすることができます。</span><span class="sxs-lookup"><span data-stu-id="24774-155">An app can be stateless or stateful.</span></span> <span data-ttu-id="24774-156">ステートフル アプリには、さまざまな形式とボリュームで対応できるデータ ストレージが必要です。</span><span class="sxs-lookup"><span data-stu-id="24774-156">Stateful apps need data storage that can be met by numerous formats and volumes.</span></span> |
| <span data-ttu-id="24774-157">データ キャッシュ</span><span class="sxs-lookup"><span data-stu-id="24774-157">Data caching</span></span>  | <span data-ttu-id="24774-158">設計のデータ キャッシュ コンポーネントは、待機時間の問題に戦略的に対処し、クラウド バースティングをトリガーする役割を果たします。</span><span class="sxs-lookup"><span data-stu-id="24774-158">A data caching component in your design can strategically address latency issues and play a role in triggering cloud bursting.</span></span> |
| <span data-ttu-id="24774-159">データ インジェスト</span><span class="sxs-lookup"><span data-stu-id="24774-159">Data ingestion</span></span> | <span data-ttu-id="24774-160">データはさまざまな方法でアプリに送信でき、ユーザーが Web フォームで送信した値や、継続的な大量のデータフローなどがあります。</span><span class="sxs-lookup"><span data-stu-id="24774-160">Data can be submitted to an app in many ways, ranging from user-submitted values in a web form to continuously high-volume data flow.</span></span> |
| <span data-ttu-id="24774-161">データ処理</span><span class="sxs-lookup"><span data-stu-id="24774-161">Data processing</span></span> | <span data-ttu-id="24774-162">データ処理タスク (レポート、分析、バッチ エクスポート、データ変換など) は、ソースで処理したり、データのコピーを使用して別のコンポーネントにオフロードしたりできます。</span><span class="sxs-lookup"><span data-stu-id="24774-162">Your data processing tasks (such as reports, analytics, batch exports, and data transformation) can either be processed at the source or offloaded on a separate component using a copy of the data.</span></span> |

## <a name="assess-app-components-for-pillars"></a><span data-ttu-id="24774-163">要点に対してアプリ コンポーネントを評価する</span><span class="sxs-lookup"><span data-stu-id="24774-163">Assess app components for pillars</span></span>

<span data-ttu-id="24774-164">各コンポーネントについて、各要点に照らしてその特性を評価します。</span><span class="sxs-lookup"><span data-stu-id="24774-164">For each component, evaluate its characteristics for each pillar.</span></span> <span data-ttu-id="24774-165">すべての要点を使用して各コンポーネントを評価すると、検討していなかった可能性がある課題を知ることができ、このことがハイブリッド アプリの設計に影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="24774-165">As you evaluate each component with all of the pillars, questions you might not have considered may become known to you that affect the design of the hybrid app.</span></span> <span data-ttu-id="24774-166">これらの考慮事項に対応することによって、アプリを最適化する上で価値を高めることができる場合もあります。</span><span class="sxs-lookup"><span data-stu-id="24774-166">Acting on these considerations could add value in optimizing your app.</span></span> <span data-ttu-id="24774-167">表 2 に、ハイブリッド アプリに関連する各要点の説明を示します。</span><span class="sxs-lookup"><span data-stu-id="24774-167">Table 2 provides a description of each pillar as it relates to hybrid apps.</span></span>

### <a name="table-2-pillars"></a><span data-ttu-id="24774-168">表 2</span><span class="sxs-lookup"><span data-stu-id="24774-168">Table 2.</span></span> <span data-ttu-id="24774-169">要点</span><span class="sxs-lookup"><span data-stu-id="24774-169">Pillars</span></span>

| <span data-ttu-id="24774-170">**要点**</span><span class="sxs-lookup"><span data-stu-id="24774-170">**Pillar**</span></span> | <span data-ttu-id="24774-171">**説明**</span><span class="sxs-lookup"><span data-stu-id="24774-171">**Description**</span></span> |
| ----------- | --------------------------------------------------------- |
| <span data-ttu-id="24774-172">配置</span><span class="sxs-lookup"><span data-stu-id="24774-172">Placement</span></span>  | <span data-ttu-id="24774-173">ハイブリッド アプリにおけるコンポーネントの戦略的な位置づけ。</span><span class="sxs-lookup"><span data-stu-id="24774-173">The strategic positioning of components in hybrid apps.</span></span> |
| <span data-ttu-id="24774-174">スケーラビリティ</span><span class="sxs-lookup"><span data-stu-id="24774-174">Scalability</span></span>  | <span data-ttu-id="24774-175">増加した負荷を処理するシステムの能力です。</span><span class="sxs-lookup"><span data-stu-id="24774-175">The ability of a system to handle increased load.</span></span> |
| <span data-ttu-id="24774-176">可用性</span><span class="sxs-lookup"><span data-stu-id="24774-176">Availability</span></span>  | <span data-ttu-id="24774-177">ハイブリッド アプリが動作し実際に使用可能である時間の割合です。</span><span class="sxs-lookup"><span data-stu-id="24774-177">The proportion of time that a hybrid app is functional and working.</span></span> |
| <span data-ttu-id="24774-178">回復性</span><span class="sxs-lookup"><span data-stu-id="24774-178">Resiliency</span></span> | <span data-ttu-id="24774-179">ハイブリッド アプリの回復能力です。</span><span class="sxs-lookup"><span data-stu-id="24774-179">The ability for a hybrid app to recover.</span></span> |
| <span data-ttu-id="24774-180">管理の容易性</span><span class="sxs-lookup"><span data-stu-id="24774-180">Manageability</span></span> | <span data-ttu-id="24774-181">運用環境でシステムを継続的に動作させる運用プロセスです。</span><span class="sxs-lookup"><span data-stu-id="24774-181">Operations processes that keep a system running in production.</span></span> |
| <span data-ttu-id="24774-182">Security</span><span class="sxs-lookup"><span data-stu-id="24774-182">Security</span></span> | <span data-ttu-id="24774-183">脅威からハイブリッド アプリとデータを保護することです。</span><span class="sxs-lookup"><span data-stu-id="24774-183">Protecting hybrid apps and data from threats.</span></span> |

## <a name="placement"></a><span data-ttu-id="24774-184">配置</span><span class="sxs-lookup"><span data-stu-id="24774-184">Placement</span></span>

<span data-ttu-id="24774-185">ハイブリッド アプリには、データセンターなど、配置に関する考慮事項が本質的にあります。</span><span class="sxs-lookup"><span data-stu-id="24774-185">A hybrid app inherently has a placement consideration, like for the datacenter.</span></span>

<span data-ttu-id="24774-186">配置は、ハイブリッド アプリに最適なサービスを実行できるように、コンポーネントを配置する重要なタスクです。</span><span class="sxs-lookup"><span data-stu-id="24774-186">Placement is the important task of positioning components so that they can best service a hybrid app.</span></span> <span data-ttu-id="24774-187">定義上、ハイブリッド アプリは、オンプレミスからクラウドや、異なるクラウド間など、さまざまな場所にまたがります。</span><span class="sxs-lookup"><span data-stu-id="24774-187">By definition, hybrid apps span locations, like from on-premises to the cloud and among different clouds.</span></span> <span data-ttu-id="24774-188">アプリのコンポーネントをクラウドに配置するには、次の 2 つの方法があります。</span><span class="sxs-lookup"><span data-stu-id="24774-188">You can place components of the app on clouds in two ways:</span></span>

- <span data-ttu-id="24774-189">**垂直ハイブリッド アプリ**</span><span class="sxs-lookup"><span data-stu-id="24774-189">**Vertical hybrid apps**</span></span>  
    <span data-ttu-id="24774-190">アプリ コンポーネントは、複数の場所に分散されます。</span><span class="sxs-lookup"><span data-stu-id="24774-190">App components are distributed across locations.</span></span> <span data-ttu-id="24774-191">個々のコンポーネントは、1 つの場所にのみ存在する複数のインスタンスを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="24774-191">Each individual component can have multiple instances located only in a single location.</span></span>

- <span data-ttu-id="24774-192">**水平ハイブリッド アプリ**</span><span class="sxs-lookup"><span data-stu-id="24774-192">**Horizontal hybrid apps**</span></span>  
    <span data-ttu-id="24774-193">アプリ コンポーネントは、複数の場所に分散されます。</span><span class="sxs-lookup"><span data-stu-id="24774-193">App components are distributed across locations.</span></span> <span data-ttu-id="24774-194">個々のコンポーネントは、複数の場所にまたがる複数のインスタンスを持つことができます。</span><span class="sxs-lookup"><span data-stu-id="24774-194">Each individual component can have multiple instances spanning multiple locations.</span></span>

    <span data-ttu-id="24774-195">コンポーネントの中には、それぞれの場所を認識しているものもあれば、場所や配置について認識していないものもあります。</span><span class="sxs-lookup"><span data-stu-id="24774-195">Some components can be aware of their location while others don't have any knowledge of their location and placement.</span></span> <span data-ttu-id="24774-196">この効果的なやり方は、抽象化レイヤーを使用して実現できます。</span><span class="sxs-lookup"><span data-stu-id="24774-196">This virtuousness can be achieved with an abstraction layer.</span></span> <span data-ttu-id="24774-197">このレイヤーは、マイクロサービスのような最新のアプリ フレームワークを使用することで、クラウド全体のノード上で動作するアプリ コンポーネントの配置によってアプリがどのように処理されるかを定義できます。</span><span class="sxs-lookup"><span data-stu-id="24774-197">This layer, with a modern app framework like microservices, can define how the app is serviced by the placement of app components operating on nodes across clouds.</span></span>

### <a name="placement-checklist"></a><span data-ttu-id="24774-198">配置のチェックリスト</span><span class="sxs-lookup"><span data-stu-id="24774-198">Placement checklist</span></span>

<span data-ttu-id="24774-199">**必要な場所を確認します。**</span><span class="sxs-lookup"><span data-stu-id="24774-199">**Verify required locations.**</span></span> <span data-ttu-id="24774-200">アプリまたはそのいずれかのコンポーネントが、特定のクラウドで動作する必要があるか、または特定のクラウドの認定を必要としていないか確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-200">Make sure the app or any of its components are required to operate in, or require certification for, a specific cloud.</span></span> <span data-ttu-id="24774-201">これには会社や法律で定めるデータ主権要件が含まれる場合があります。</span><span class="sxs-lookup"><span data-stu-id="24774-201">This can include sovereignty requirements from your company or dictated by law.</span></span> <span data-ttu-id="24774-202">また、特定の場所またはロケールに対してオンプレミスの操作が必要かどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-202">Also, determine if any on-premises operations are required for a particular location or locale.</span></span>

<span data-ttu-id="24774-203">**接続の依存関係を確認します。**</span><span class="sxs-lookup"><span data-stu-id="24774-203">**Ascertain connectivity dependencies.**</span></span> <span data-ttu-id="24774-204">必要な場所とその他の要因によって、コンポーネント間の接続の依存関係が決まります。</span><span class="sxs-lookup"><span data-stu-id="24774-204">Required locations and other factors can dictate the connectivity dependencies among your components.</span></span> <span data-ttu-id="24774-205">コンポーネントを配置する際は、それらのコンポーネント間の通信に最適な接続とセキュリティを確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-205">As you place the components, determine the optimal connectivity and security for communication among them.</span></span> <span data-ttu-id="24774-206">選択肢として、[*VPN*、](/azure/vpn-gateway/)[*ExpressRoute*、](/azure/expressroute/)および[*ハイブリッド接続*](/azure/app-service/app-service-hybrid-connections)があります。</span><span class="sxs-lookup"><span data-stu-id="24774-206">Choices include [*VPN*,](/azure/vpn-gateway/) [*ExpressRoute*,](/azure/expressroute/) and [*Hybrid Connections*.](/azure/app-service/app-service-hybrid-connections)</span></span>

<span data-ttu-id="24774-207">**プラットフォームの機能を評価します。**</span><span class="sxs-lookup"><span data-stu-id="24774-207">**Evaluate platform capabilities.**</span></span> <span data-ttu-id="24774-208">アプリ コンポーネントごとに、アプリ コンポーネントに必要なリソース プロバイダーがクラウドで利用可能かどうか、および帯域幅が予想されるスループットと待機時間の要件を満たすことができるかどうかを確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-208">For each app component, see if the required resource provider for the app component is available on the cloud and if the bandwidth can accommodate the expected throughput and latency requirements.</span></span>

<span data-ttu-id="24774-209">**移植性を計画します。**</span><span class="sxs-lookup"><span data-stu-id="24774-209">**Plan for portability.**</span></span> <span data-ttu-id="24774-210">コンテナーやマイクロサービスのような最新のアプリ フレームワークを使用して、移行操作を計画し、サービスの依存関係を防ぎます。</span><span class="sxs-lookup"><span data-stu-id="24774-210">Use modern app frameworks, like containers or microservices, to plan for moving operations and to prevent service dependencies.</span></span>

<span data-ttu-id="24774-211">**データ主権要件を確認します。**</span><span class="sxs-lookup"><span data-stu-id="24774-211">**Determine data sovereignty requirements.**</span></span> <span data-ttu-id="24774-212">ハイブリッド アプリは、ローカル データセンターなどのデータの分離に対応するように調整されています。</span><span class="sxs-lookup"><span data-stu-id="24774-212">Hybrid apps are geared for accommodating data isolation, such as on a local datacenter.</span></span> <span data-ttu-id="24774-213">リソースの配置を確認して、この要件にうまく対応するように最適化します。</span><span class="sxs-lookup"><span data-stu-id="24774-213">Review the placement of your resources to optimize the success for accommodating this requirement.</span></span>

<span data-ttu-id="24774-214">**待機時間を計画します。**</span><span class="sxs-lookup"><span data-stu-id="24774-214">**Plan for latency.**</span></span> <span data-ttu-id="24774-215">クラウド間の運用により、アプリ コンポーネント間に物理的な距離が生じることがあります。</span><span class="sxs-lookup"><span data-stu-id="24774-215">Inter-cloud operations can introduce physical distance between the app components.</span></span> <span data-ttu-id="24774-216">待機時間に対応するための要件を確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-216">Ascertain the requirements to accommodate any latency.</span></span>

<span data-ttu-id="24774-217">**トラフィック フローを制御します。**</span><span class="sxs-lookup"><span data-stu-id="24774-217">**Control traffic flows.**</span></span> <span data-ttu-id="24774-218">パブリック クラウドのフロントエンドからアクセスされるときに、ピーク時の使用量に対応し、個人を特定できる情報データに対して適切かつ安全な通信を行います。</span><span class="sxs-lookup"><span data-stu-id="24774-218">Handle peak usage and the appropriate and secured communications for personal identifiable information data when accessed by the front end in a public cloud.</span></span>

## <a name="scalability"></a><span data-ttu-id="24774-219">スケーラビリティ</span><span class="sxs-lookup"><span data-stu-id="24774-219">Scalability</span></span>

<span data-ttu-id="24774-220">スケーラビリティとは、アプリのサイズと範囲に加えて、他の要因や影響力が対象ユーザーのサイズに影響することが原因で時間の経過と共に変化することがあるアプリの負荷の増加に対処するための、システムの能力のことです。</span><span class="sxs-lookup"><span data-stu-id="24774-220">Scalability is the ability of a system to handle increased load on an app, which can vary over time as other factors and forces affect the audience size, in addition to the size and scope of the app.</span></span>

<span data-ttu-id="24774-221">この要点の主要な説明については、優れたアーキテクチャの 5 つの要素にある "[*スケーラビリティ*](/azure/architecture/guide/pillars#scalability)" を参照してください。</span><span class="sxs-lookup"><span data-stu-id="24774-221">For the core discussion of this pillar, see [*Scalability*](/azure/architecture/guide/pillars#scalability) in the five pillars of architecture excellence.</span></span>

<span data-ttu-id="24774-222">ハイブリッド アプリの水平スケーリング アプローチを使用すると、需要を満たすためにインスタンスを追加し、需要が減った期間にそれらを無効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="24774-222">A horizontal scaling approach for hybrid apps allows for adding more instances to meet demand and then disabling them during quieter periods.</span></span>

<span data-ttu-id="24774-223">ハイブリッド シナリオでは、コンポーネントが複数のクラウドに分散している場合、個々のコンポーネントのスケールアウトには追加の考慮が必要です。</span><span class="sxs-lookup"><span data-stu-id="24774-223">In hybrid scenarios, scaling out individual components requires additional consideration when components are spread across clouds.</span></span> <span data-ttu-id="24774-224">アプリのある部分を拡大縮小するには、別の部分の拡大縮小が必要になることがあります。</span><span class="sxs-lookup"><span data-stu-id="24774-224">Scaling one part of the app can require the scaling of another.</span></span> <span data-ttu-id="24774-225">たとえば、クライアント接続数が増加しても、アプリの Web サービスが適切にスケールアウトされていない場合、データベースの負荷によってアプリが飽和状態になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="24774-225">For example, if the number of client connections increases but the app's web services aren't scaled out appropriately, the load on the database might saturate the app.</span></span>

<span data-ttu-id="24774-226">アプリ コンポーネントの中には、直線的にスケールアウトできるものもあれば、スケーリング依存関係を持ち、拡張できる範囲が限られているものもあります。</span><span class="sxs-lookup"><span data-stu-id="24774-226">Some app components can scale out linearly, while others have scaling dependencies and might be limited to what extent they're able to scale.</span></span> <span data-ttu-id="24774-227">たとえば、アプリ コンポーネントの場所にハイブリッド接続を提供する VPN トンネルでは、拡大縮小が可能な帯域幅と待機時間に制限があります。</span><span class="sxs-lookup"><span data-stu-id="24774-227">For example, a VPN tunnel providing hybrid connectivity for the app components locations has a limit to the bandwidth and latency it can be scaled to.</span></span> <span data-ttu-id="24774-228">これらの要件を満たすようにするために、アプリのコンポーネントはどのようにスケーリングされるでしょうか?</span><span class="sxs-lookup"><span data-stu-id="24774-228">How are components of the app scaled to ensure these requirements are met?</span></span>

### <a name="scalability-checklist"></a><span data-ttu-id="24774-229">スケーラビリティのチェックリスト</span><span class="sxs-lookup"><span data-stu-id="24774-229">Scalability checklist</span></span>

<span data-ttu-id="24774-230">**スケーリングしきい値を確認します。**</span><span class="sxs-lookup"><span data-stu-id="24774-230">**Ascertain scaling thresholds.**</span></span> <span data-ttu-id="24774-231">アプリのさまざまな依存関係を処理するために、アプリを実行するための要件を満たしながら、異なるクラウド内のアプリ コンポーネントが互いに独立してどの程度拡大縮小できるかを確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-231">To handle the various dependencies in your app, determine the extent to which app components in different clouds can scale independently of each other, while still meeting the requirements to run the app.</span></span> <span data-ttu-id="24774-232">ハイブリッド アプリでは多くの場合、ある機能がアプリの他の部分と相互作用して影響を与えるため、その機能を処理するためにアプリの特定の領域を拡大縮小する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-232">Hybrid apps often need to scale particular areas in the app to handle a feature as it interacts and affects the rest of the app.</span></span> <span data-ttu-id="24774-233">たとえば、フロントエンド インスタンスの数を超えると、バックエンドのスケーリングが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="24774-233">For example, exceeding a number of front-end instances may require scaling the back end.</span></span>

<span data-ttu-id="24774-234">**スケール スケジュールを定義します。**</span><span class="sxs-lookup"><span data-stu-id="24774-234">**Define scale schedules.**</span></span> <span data-ttu-id="24774-235">ほとんどのアプリには使用量が多くなる期間があるので、最適なスケーリングを調整するには、ピーク時間を集約してスケジュールに入れる必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-235">Most apps have busy periods, so you need to aggregate their peak times into schedules to coordinate optimal scaling.</span></span>

<span data-ttu-id="24774-236">**集中監視システムを使用します。**</span><span class="sxs-lookup"><span data-stu-id="24774-236">**Use a centralized monitoring system.**</span></span> <span data-ttu-id="24774-237">プラットフォームの監視機能は自動スケーリングを提供できますが、ハイブリッド アプリには、システムの正常性と負荷を集約する集中監視システムが必要です。</span><span class="sxs-lookup"><span data-stu-id="24774-237">Platform monitoring capabilities can provide autoscaling, but hybrid apps need a centralized monitoring system that aggregates system health and load.</span></span> <span data-ttu-id="24774-238">集中監視システムでは、ある場所のリソースのスケーリングと、別の場所のリソースに応じたスケーリングを開始できます。</span><span class="sxs-lookup"><span data-stu-id="24774-238">A centralized monitoring system can initiate scaling a resource in one location and scaling depending on resource in another location.</span></span> <span data-ttu-id="24774-239">さらに、中央監視システムは、どのクラウドがリソースを自動スケーリングし、どのクラウドが自動スケーリングしないかを追跡できます。</span><span class="sxs-lookup"><span data-stu-id="24774-239">Additionally, a central monitoring system can track which clouds autoscale resources and which clouds don't.</span></span>

<span data-ttu-id="24774-240">**自動スケール機能を活用します (使用可能な場合)。**</span><span class="sxs-lookup"><span data-stu-id="24774-240">**Leverage autoscaling capabilities (as available).**</span></span> <span data-ttu-id="24774-241">自動スケーリング機能がアーキテクチャの一部である場合は、アプリ コンポーネントをスケールアップ、スケールアウト、スケールダウン、またはスケールインする必要があるタイミングを定義するしきい値を設定することによって、自動スケーリングを実装します。</span><span class="sxs-lookup"><span data-stu-id="24774-241">If autoscaling capabilities are part of your architecture, you implement autoscaling by setting thresholds that define when an app component needs to be scaled up, out, down, or in.</span></span> <span data-ttu-id="24774-242">自動スケーリングの例としては、容量の増加に対応するために 1 つのクラウドで自動スケーリングされるクライアント接続が挙げられますが、異なるクラウドに分散されているアプリのその他の依存関係もスケーリングされる場合もあります。</span><span class="sxs-lookup"><span data-stu-id="24774-242">An example of autoscaling is a client connection that's autoscaled in one cloud to handle increased capacity, but causes other dependencies of the app, spread across different clouds, to also be scaled.</span></span> <span data-ttu-id="24774-243">これらの依存コンポーネントの自動スケール機能を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-243">The autoscaling capabilities of these dependent components must be ascertained.</span></span>

<span data-ttu-id="24774-244">自動スケーリングが使用できない場合は、集中監視システムのしきい値によってトリガーされる、手動スケーリングに対応するためのスクリプトやその他のリソースを実装することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="24774-244">If autoscaling isn't available, consider implementing scripts and other resources to accommodate manual scaling, triggered by thresholds in the centralized monitoring system.</span></span>

<span data-ttu-id="24774-245">**場所別に予想される負荷を確認します。**</span><span class="sxs-lookup"><span data-stu-id="24774-245">**Determine expected load by location.**</span></span> <span data-ttu-id="24774-246">クライアント要求を処理するハイブリッド アプリは、主に 1 つの場所に依存することがあります。</span><span class="sxs-lookup"><span data-stu-id="24774-246">Hybrid apps that handle client requests might primarily rely on a single location.</span></span> <span data-ttu-id="24774-247">クライアント要求の負荷がしきい値を超えると、別の場所にさらにリソースを追加して、受信要求の負荷を分散することができます。</span><span class="sxs-lookup"><span data-stu-id="24774-247">When the load of client requests exceeds a threshold, additional resources can be added in a different location to distribute the load of inbound requests.</span></span> <span data-ttu-id="24774-248">クライアント接続が増加した負荷を処理できるようにし、クライアント接続が負荷を処理する自動化された手順も確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-248">Make sure that the client connections can handle the increased loads and also determine any automated procedures for the client connections to handle the load.</span></span>

## <a name="availability"></a><span data-ttu-id="24774-249">可用性</span><span class="sxs-lookup"><span data-stu-id="24774-249">Availability</span></span>

<span data-ttu-id="24774-250">可用性とは、システムが動作し実際に使用可能である時間です。</span><span class="sxs-lookup"><span data-stu-id="24774-250">Availability is the time that a system is functional and working.</span></span> <span data-ttu-id="24774-251">可用性は、アップタイムの割合として測定されます。</span><span class="sxs-lookup"><span data-stu-id="24774-251">Availability is measured as a percentage of uptime.</span></span> <span data-ttu-id="24774-252">アプリ エラー、インフラストラクチャの問題、システムの負荷はすべて、可用性を低下させる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="24774-252">App errors, infrastructure problems, and system load can all reduce availability.</span></span>

<span data-ttu-id="24774-253">この要点の主要な説明については、優れたアーキテクチャの 5 つの要素にある "[*可用性*](/azure/architecture/framework/)" を参照してください。</span><span class="sxs-lookup"><span data-stu-id="24774-253">For the core discussion of this pillar, see [*Availability*](/azure/architecture/framework/) in the five pillars of architecture excellence.</span></span>

### <a name="availability-checklist"></a><span data-ttu-id="24774-254">可用性のチェックリスト</span><span class="sxs-lookup"><span data-stu-id="24774-254">Availability checklist</span></span>

<span data-ttu-id="24774-255">**接続の冗長性を提供します。**</span><span class="sxs-lookup"><span data-stu-id="24774-255">**Provide redundancy for connectivity.**</span></span> <span data-ttu-id="24774-256">ハイブリッド アプリでは、アプリが分散しているクラウド間の接続が必要です。</span><span class="sxs-lookup"><span data-stu-id="24774-256">Hybrid apps require connectivity among the clouds that the app is spread across.</span></span> <span data-ttu-id="24774-257">ハイブリッド接続のためのテクノロジを選択できるため、主要なテクノロジの選択に加えて、主要なテクノロジに障害が発生した場合に備えて、自動フェールオーバー機能によって冗長性を提供する別のテクノロジを使用します。</span><span class="sxs-lookup"><span data-stu-id="24774-257">You have a choice of technologies for hybrid connectivity, so in addition to your primary technology choice, use another technology to provide redundancy with automated failover capabilities should the primary technology fail.</span></span>

<span data-ttu-id="24774-258">**障害ドメインを分類します。**</span><span class="sxs-lookup"><span data-stu-id="24774-258">**Classify fault domains.**</span></span> <span data-ttu-id="24774-259">フォールト トレラントなアプリでは、複数の障害ドメインが必要です。</span><span class="sxs-lookup"><span data-stu-id="24774-259">Fault-tolerant apps require multiple fault domains.</span></span> <span data-ttu-id="24774-260">障害ドメインは、障害の発生点を特定するのに役立ちます。たとえば、オンプレミスの 1 つのハードディスクに障害が発生した、ラックの最上位スイッチがダウンした、またはデータセンター全体が使用できない、などがあります。</span><span class="sxs-lookup"><span data-stu-id="24774-260">Fault domains help isolate the point of failure, such as if a single hard disk fails on premises, if a top-of-rack switch goes down, or if the full datacenter is unavailable.</span></span> <span data-ttu-id="24774-261">ハイブリッド アプリでは、場所を障害ドメインとして分類できます。</span><span class="sxs-lookup"><span data-stu-id="24774-261">In a hybrid app, a location can be classified as a fault domain.</span></span> <span data-ttu-id="24774-262">可用性の要件が増えるにつれて、1 つの障害ドメインを分類する方法を評価する必要性が高まります。</span><span class="sxs-lookup"><span data-stu-id="24774-262">With more availability requirements, the more you need to evaluate how a single fault domain should be classified.</span></span>

<span data-ttu-id="24774-263">**アップグレード ドメインを分類します。**</span><span class="sxs-lookup"><span data-stu-id="24774-263">**Classify upgrade domains.**</span></span> <span data-ttu-id="24774-264">アップグレード ドメインは、アプリ コンポーネントのインスタンスが更新または機能アップグレードで処理されているときに、同じコンポーネントの別のインスタンスを使用できるようにするために使用されます。</span><span class="sxs-lookup"><span data-stu-id="24774-264">Upgrade domains are used to ensure that instances of app components are available, while other instances of the same component are being serviced with updates or feature upgrades.</span></span> <span data-ttu-id="24774-265">障害ドメインと同様に、アップグレード ドメインは複数の場所への配置によって分類できます。</span><span class="sxs-lookup"><span data-stu-id="24774-265">As with fault domains, upgrade domains can be classified by their placement across locations.</span></span> <span data-ttu-id="24774-266">アプリ コンポーネントが、ある場所でアップグレードされる前に、別の場所でのアップグレードに対応できるか、または他のドメイン構成が必要かどうかを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-266">You must determine if an app component can accommodate getting upgraded in one location before it's upgraded in another location, or if other domain configurations are required.</span></span> <span data-ttu-id="24774-267">単一の場所に複数のアップグレード ドメインを含めることができます。</span><span class="sxs-lookup"><span data-stu-id="24774-267">A single location itself can have multiple upgrade domains.</span></span>

<span data-ttu-id="24774-268">**インスタンスと可用性を追跡します。**</span><span class="sxs-lookup"><span data-stu-id="24774-268">**Track instances and availability.**</span></span> <span data-ttu-id="24774-269">高可用性アプリ コンポーネントは、負荷分散と同期データ レプリケーションを通じて利用できます。</span><span class="sxs-lookup"><span data-stu-id="24774-269">Highly available app components can be available through load balancing and synchronous data replication.</span></span> <span data-ttu-id="24774-270">どれだけのインスタンスをオフラインにしたらサービスが中断されるかを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-270">You must determine how many instances can be offline before the service is interrupted.</span></span>

<span data-ttu-id="24774-271">**自己復旧を実装します。**</span><span class="sxs-lookup"><span data-stu-id="24774-271">**Implement self-healing.**</span></span> <span data-ttu-id="24774-272">問題によってアプリの可用性が中断される場合、監視システムによる検出によって、障害が発生したインスタンスのドレインや再デプロイなど、アプリに対する自己復旧アクティビティが開始される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="24774-272">In the event an issue causes an interruption to the app availability, a detection by a monitoring system could initiate self-healing activities to the app, such as draining the failed instance and redeploying it.</span></span> <span data-ttu-id="24774-273">ほとんどの場合、これにはハイブリッド継続的インテグレーションと継続的デリバリー (CI/CD) パイプラインと統合された中央監視ソリューションが必要です。</span><span class="sxs-lookup"><span data-stu-id="24774-273">Most likely this requires a central monitoring solution, integrated with a hybrid Continuous Integration, and Continuous Delivery (CI/CD) pipeline.</span></span> <span data-ttu-id="24774-274">アプリは、アプリ コンポーネントの再デプロイが必要になる可能性がある問題を特定するために監視システムと統合されます。</span><span class="sxs-lookup"><span data-stu-id="24774-274">The app is integrated with a monitoring system to identify issues that could require redeployment of an app component.</span></span> <span data-ttu-id="24774-275">また、監視システムはハイブリッド CI/CD をトリガーして、アプリ コンポーネントを再デプロイでき、場合によっては、同じ場所または他の場所にあるその他の依存コンポーネントを再デプロイすることもできます。</span><span class="sxs-lookup"><span data-stu-id="24774-275">The monitoring system can also trigger hybrid CI/CD to redeploy the app component and potentially any other dependent components in the same or other locations.</span></span>

<span data-ttu-id="24774-276">**サービス レベル アグリーメント (SLA) を維持します。**</span><span class="sxs-lookup"><span data-stu-id="24774-276">**Maintain service-level agreements (SLAs).**</span></span> <span data-ttu-id="24774-277">可用性は、お客様と顧客の間にあるサービスとアプリへの接続を維持するために、どのような契約においても不可欠です。</span><span class="sxs-lookup"><span data-stu-id="24774-277">Availability is critical for any agreements to maintain connectivity to the services and apps that you have with your customers.</span></span> <span data-ttu-id="24774-278">ハイブリッド アプリが使用する場所ごとに、独自の SLA が適用される場合があります。</span><span class="sxs-lookup"><span data-stu-id="24774-278">Each location that your hybrid app relies on might have its own SLA.</span></span> <span data-ttu-id="24774-279">これらのさまざまな SLA は、ハイブリッド アプリの全体的な SLA に影響を与える可能性があります。</span><span class="sxs-lookup"><span data-stu-id="24774-279">These different SLAs can affect the overall SLA of your hybrid app.</span></span>

## <a name="resiliency"></a><span data-ttu-id="24774-280">回復性</span><span class="sxs-lookup"><span data-stu-id="24774-280">Resiliency</span></span>

<span data-ttu-id="24774-281">回復性とは、障害から回復して動作を続行する、ハイブリッド アプリおよびシステムの能力です。</span><span class="sxs-lookup"><span data-stu-id="24774-281">Resiliency is the ability for a hybrid app and system to recover from failures and continue to function.</span></span> <span data-ttu-id="24774-282">回復性の目的は、障害の発生後にアプリを十分に機能する状態に戻すことです。</span><span class="sxs-lookup"><span data-stu-id="24774-282">The goal of resiliency is to return the app to a fully functioning state after a failure occurs.</span></span> <span data-ttu-id="24774-283">回復性戦略には、バックアップ、レプリケーション、ディザスター リカバリーなどのソリューションが含まれます。</span><span class="sxs-lookup"><span data-stu-id="24774-283">Resiliency strategies include solutions like backup, replication, and disaster recovery.</span></span>

<span data-ttu-id="24774-284">この要点の主要な説明については、優れたアーキテクチャの 5 つの要素にある "[*回復性*](/azure/architecture/guide/pillars#resiliency)" を参照してください。</span><span class="sxs-lookup"><span data-stu-id="24774-284">For the core discussion of this pillar, see [*Resiliency*](/azure/architecture/guide/pillars#resiliency) in the five pillars of architecture excellence.</span></span>

### <a name="resiliency-checklist"></a><span data-ttu-id="24774-285">回復性のチェックリスト</span><span class="sxs-lookup"><span data-stu-id="24774-285">Resiliency checklist</span></span>

<span data-ttu-id="24774-286">**ディザスター リカバリーの依存関係を明らかにします。**</span><span class="sxs-lookup"><span data-stu-id="24774-286">**Uncover disaster-recovery dependencies.**</span></span> <span data-ttu-id="24774-287">あるクラウドでのディザスター リカバリーに、別のクラウドのアプリ コンポーネントへの変更が必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="24774-287">Disaster recovery in one cloud might require changes to app components in another cloud.</span></span> <span data-ttu-id="24774-288">あるクラウドの 1 つまたは複数のコンポーネントが同じクラウド内または別のクラウド内の別の場所にフェールオーバーされた場合、依存コンポーネントにこれらの変更を認識させる必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-288">If one or multiple components from one cloud are failed-over to another location, either within the same cloud or to another cloud, the dependent components need to be made aware of these changes.</span></span> <span data-ttu-id="24774-289">これには接続の依存関係も含まれます。</span><span class="sxs-lookup"><span data-stu-id="24774-289">This also includes the connectivity dependencies.</span></span> <span data-ttu-id="24774-290">回復性を確保するには、各クラウドに対して完全にテストされたアプリの復旧計画が必要です。</span><span class="sxs-lookup"><span data-stu-id="24774-290">Resiliency requires a fully tested app recovery plan for each cloud.</span></span>

<span data-ttu-id="24774-291">**復旧フローを確立します。**</span><span class="sxs-lookup"><span data-stu-id="24774-291">**Establish recovery flow.**</span></span> <span data-ttu-id="24774-292">効果的な復旧フロー設計では、バッファーへの対応、再試行、失敗したデータ転送の再試行、および必要に応じて別のサービスまたはワークフローへのフォールバックを行う能力について、アプリ コンポーネントを評価しました。</span><span class="sxs-lookup"><span data-stu-id="24774-292">An effective recovery flow design has evaluated app components for their ability to accommodate buffers, retries, retrying failed data transfer, and, if necessary, fall back to a different service or workflow.</span></span> <span data-ttu-id="24774-293">使用するバックアップ メカニズム、復元手順に含まれるもの、テストの頻度を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-293">You must determine what back-up mechanism to use, what its restore procedure involves, and how often it's tested.</span></span> <span data-ttu-id="24774-294">また、増分バックアップと完全バックアップの両方の頻度を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-294">You should also determine the frequency for both incremental and full backups.</span></span>

<span data-ttu-id="24774-295">**部分的な回復をテストします。**</span><span class="sxs-lookup"><span data-stu-id="24774-295">**Test partial recoveries.**</span></span> <span data-ttu-id="24774-296">アプリの一部の部分的な回復により、すべての部分が使用できないわけではないという安心感をユーザーに与えることができます。</span><span class="sxs-lookup"><span data-stu-id="24774-296">A partial recovery for part of the app can provide reassurance to users that all isn't unavailable.</span></span> <span data-ttu-id="24774-297">計画のこの部分では、部分復元に副作用がないことを確認する必要があります。たとえば、バックアップと復元サービスがアプリとやり取りし、バックアップを行う前にアプリを適切にシャットダウンすることなどがあります。</span><span class="sxs-lookup"><span data-stu-id="24774-297">This part of the plan should ensure that a partial restore doesn't have any side effects, such as a backup and restore service that interacts with the app to gracefully shut it down before the backup is made.</span></span>

<span data-ttu-id="24774-298">**ディザスターリカバリーを開始する人を確認して責任を割り当てます。**</span><span class="sxs-lookup"><span data-stu-id="24774-298">**Determine disaster-recovery instigators and assign responsibility.**</span></span> <span data-ttu-id="24774-299">復旧計画では、何をバックアップおよび復元できるかに加えて、バックアップおよび回復操作を開始できるユーザーとロールを記述する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-299">A recovery plan should describe who, and what roles, can initiate backup and recovery actions in addition to what can be backed up and restored.</span></span>

<span data-ttu-id="24774-300">**自己復旧のしきい値をディザスター リカバリーと比較します。**</span><span class="sxs-lookup"><span data-stu-id="24774-300">**Compare self-healing thresholds with disaster recovery.**</span></span> <span data-ttu-id="24774-301">自動復旧を開始するためのアプリの自己復旧機能と、アプリの自己復旧が失敗または成功と見なされるまでに必要な時間を確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-301">Determine an app's self-healing capabilities for automatic recovery initiation and the time required for an app's self- healing to be considered a failure or success.</span></span> <span data-ttu-id="24774-302">各クラウドのしきい値を確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-302">Determine the thresholds for each cloud.</span></span>

<span data-ttu-id="24774-303">**回復性機能の可用性を確認します。**</span><span class="sxs-lookup"><span data-stu-id="24774-303">**Verify availability of resiliency features.**</span></span> <span data-ttu-id="24774-304">各場所の回復性機能および能力の可用性を確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-304">Determine the availability of resiliency features and capabilities for each location.</span></span> <span data-ttu-id="24774-305">ある場所で必要な機能が提供されない場合、回復性機能を提供する集中管理されているサービスにその場所を統合することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="24774-305">If a location doesn't provide the required capabilities, consider integrating that location into a centralized service that provides the resiliency features.</span></span>

<span data-ttu-id="24774-306">**ダウンタイムを確認します。**</span><span class="sxs-lookup"><span data-stu-id="24774-306">**Determine downtimes.**</span></span> <span data-ttu-id="24774-307">アプリ全体について、およびアプリ コンポーネントとしての、メンテナンスに起因する予想されるダウンタイムを確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-307">Determine the expected downtime due to maintenance for the app as a whole and as app components.</span></span>

<span data-ttu-id="24774-308">**ドキュメントのトラブルシューティング手順。**</span><span class="sxs-lookup"><span data-stu-id="24774-308">**Document troubleshooting procedures.**</span></span> <span data-ttu-id="24774-309">リソースおよびアプリン コンポーネントの再デプロイのトラブルシューティング手順を定義します。</span><span class="sxs-lookup"><span data-stu-id="24774-309">Define troubleshooting procedures for redeploying resources and app components.</span></span>

## <a name="manageability"></a><span data-ttu-id="24774-310">管理の容易性</span><span class="sxs-lookup"><span data-stu-id="24774-310">Manageability</span></span>

<span data-ttu-id="24774-311">ハイブリッド アプリの管理方法に関する考慮事項は、アーキテクチャの設計に不可欠です。</span><span class="sxs-lookup"><span data-stu-id="24774-311">The considerations for how you manage your hybrid apps are critical in designing your architecture.</span></span> <span data-ttu-id="24774-312">適切に管理されたハイブリッド アプリは、共通の開発パイプラインで一貫したアプリ コードを統合できるようにするための、コードとしてのインフラストラクチャを提供します。</span><span class="sxs-lookup"><span data-stu-id="24774-312">A well-managed hybrid app provides an infrastructure as code that enables the integration of consistent app code in a common development pipeline.</span></span> <span data-ttu-id="24774-313">インフラストラクチャの変更に対して一貫したシステム全体および個別のテストを実装することにより、変更がテストに合格した場合は統合されたデプロイを保証でき、それらをソース コードにマージすることができます。</span><span class="sxs-lookup"><span data-stu-id="24774-313">By implementing consistent system-wide and individual testing of changes to the infrastructure, you can ensure an integrated deployment if the changes pass the tests, allowing them to be merged into the source code.</span></span>

<span data-ttu-id="24774-314">この要点の主要な説明については、優れたアーキテクチャの 5 つの要素にある [*DevOps*](/azure/architecture/framework/#devops) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="24774-314">For the core discussion of this pillar, see [*DevOps*](/azure/architecture/framework/#devops) in the five pillars of architecture excellence.</span></span>

### <a name="manageability-checklist"></a><span data-ttu-id="24774-315">管理容易性のチェックリスト</span><span class="sxs-lookup"><span data-stu-id="24774-315">Manageability checklist</span></span>

<span data-ttu-id="24774-316">**監視を実装します。**</span><span class="sxs-lookup"><span data-stu-id="24774-316">**Implement monitoring.**</span></span> <span data-ttu-id="24774-317">クラウドに分散されたアプリ コンポーネントの集中監視システムを使用して、正常性とパフォーマンスの集約されたビューを提供します。</span><span class="sxs-lookup"><span data-stu-id="24774-317">Use a centralized monitoring system of app components spread across clouds to provide an aggregated view of their health and performance.</span></span> <span data-ttu-id="24774-318">このシステムには、アプリ コンポーネントと関連するプラットフォーム機能の両方の監視が含まれています。</span><span class="sxs-lookup"><span data-stu-id="24774-318">This system includes monitoring both the app components and related platform capabilities.</span></span>

<span data-ttu-id="24774-319">監視を必要とするアプリの部分を確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-319">Determine the parts of the app that require monitoring.</span></span>

<span data-ttu-id="24774-320">**ポリシーを調整します。**</span><span class="sxs-lookup"><span data-stu-id="24774-320">**Coordinate policies.**</span></span> <span data-ttu-id="24774-321">ハイブリッド アプリがまたがるそれぞれの場所には、許可されているリソースの種類、名前付け規則、タグ、およびその他の条件を網羅する独自のポリシーを設定できます。</span><span class="sxs-lookup"><span data-stu-id="24774-321">Each location that a hybrid app spans can have its own policy that covers allowed resource types, naming conventions, tags, and other criteria.</span></span>

<span data-ttu-id="24774-322">**ロールを定義して使用します。**</span><span class="sxs-lookup"><span data-stu-id="24774-322">**Define and use roles.**</span></span> <span data-ttu-id="24774-323">データベース管理者は、アプリ リソースにアクセスする必要があるさまざまなペルソナ (アプリ所有者、データベース管理者、エンドユーザーなど) に必要なアクセス許可を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-323">As a database admin, you need to determine the permissions required for different personas (like an app owner, a database admin, and an end user) that need to access app resources.</span></span> <span data-ttu-id="24774-324">これらのアクセス許可は、リソースに対して、およびアプリ内で構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-324">These permissions need to be configured on the resources and inside the app.</span></span> <span data-ttu-id="24774-325">ロールベースのアクセス制御 (RBAC) システムを使用すると、これらのアクセス許可をアプリ リソースに設定できます。</span><span class="sxs-lookup"><span data-stu-id="24774-325">A role-based access control (RBAC) system allows you to set these permissions on the app resources.</span></span> <span data-ttu-id="24774-326">これらのアクセス権は、すべてのリソースが 1 つのクラウドにデプロイされるときには困難ですが、リソースがクラウドをまたいで分散されている場合はさらに注意が必要です。</span><span class="sxs-lookup"><span data-stu-id="24774-326">These access rights are challenging when all resources are deployed in a single cloud but require even more attention when the resources are spread across clouds.</span></span> <span data-ttu-id="24774-327">あるクラウド内で設定されたリソースのアクセス許可は、別のクラウド内で設定されたリソースには適用されません。</span><span class="sxs-lookup"><span data-stu-id="24774-327">Permissions on resources set in one cloud don't apply to resources set in another cloud.</span></span>

<span data-ttu-id="24774-328">**CI/CD パイプラインを使用します。**</span><span class="sxs-lookup"><span data-stu-id="24774-328">**Use CI/CD pipelines.**</span></span> <span data-ttu-id="24774-329">継続的インテグレーションと継続的開発 (CI/CD) パイプラインを使用すると、クラウド全体にまたがるアプリを作成およびデプロイするための一貫したプロセスを提供し、インフラストラクチャとアプリの品質を保証できます。</span><span class="sxs-lookup"><span data-stu-id="24774-329">A Continuous Integration and Continuous Development (CI/CD) pipeline can provide a consistent process for authoring and deploying apps that span across clouds, and to provide quality assurance for their infrastructure and app.</span></span> <span data-ttu-id="24774-330">このパイプラインにより、あるクラウドでインフラストラクチャとアプリをテストし、別のクラウドにデプロイできるようになります。</span><span class="sxs-lookup"><span data-stu-id="24774-330">This pipeline enables the infrastructure and app to be tested on one cloud and deployed on another cloud.</span></span> <span data-ttu-id="24774-331">また、このパイプラインを使用すると、ハイブリッド アプリの特定のコンポーネントをあるクラウドにデプロイし、別のコンポーネントを別のクラウドにデプロイでき、基本的にハイブリッド アプリ展開の基盤を形成することもできます。</span><span class="sxs-lookup"><span data-stu-id="24774-331">The pipeline even allows you to deploy certain components of your hybrid app to one cloud and other components to another cloud, essentially forming the foundation for hybrid app deployment.</span></span> <span data-ttu-id="24774-332">CI/CD システムは、データベースへの接続文字列が必要な Web アプリなど、インストール中にアプリ コンポーネントが相互に持つ依存関係を処理するために不可欠です。</span><span class="sxs-lookup"><span data-stu-id="24774-332">A CI/CD system is critical for handling the dependencies app components have for each other during installation, such as the web app needing a connection string to the database.</span></span>

<span data-ttu-id="24774-333">**ライフサイクルを管理します。**</span><span class="sxs-lookup"><span data-stu-id="24774-333">**Manage the life cycle.**</span></span> <span data-ttu-id="24774-334">ハイブリッド アプリのリソースは複数の場所にまたがる可能性があるため、それぞれの場所のライフサイクル管理機能を 1 つのライフサイクル管理単位に集約する必要があります。</span><span class="sxs-lookup"><span data-stu-id="24774-334">Because resources of a hybrid app can span locations, each single location's life-cycle management capability needs to be aggregated into a single life-cycle management unit.</span></span> <span data-ttu-id="24774-335">それらの作成、更新、および削除の方法を検討してください。</span><span class="sxs-lookup"><span data-stu-id="24774-335">Consider how they're created, updated, and deleted.</span></span>

<span data-ttu-id="24774-336">**トラブルシューティング戦略を検討します。**</span><span class="sxs-lookup"><span data-stu-id="24774-336">**Examine troubleshooting strategies.**</span></span> <span data-ttu-id="24774-337">ハイブリッド アプリのトラブルシューティングには、1 つのクラウドで実行されている同じアプリよりも多くのアプリ コンポーネントが含まれます。</span><span class="sxs-lookup"><span data-stu-id="24774-337">Troubleshooting a hybrid app involves more app components than the same app that's running in a single cloud.</span></span> <span data-ttu-id="24774-338">クラウド間の接続に加えて、アプリは 1 つではなく 2 つのプラットフォームで実行されます。</span><span class="sxs-lookup"><span data-stu-id="24774-338">Besides the connectivity between the clouds, the app is running on two platforms instead of one.</span></span> <span data-ttu-id="24774-339">ハイブリッド アプリのトラブルシューティングにおける重要なタスクは、アプリ コンポーネントの正常性とパフォーマンスの総合的な監視を調べることです。</span><span class="sxs-lookup"><span data-stu-id="24774-339">An important task in troubleshooting hybrid apps is to examine the aggregated health and performance monitoring of the app components.</span></span>

## <a name="security"></a><span data-ttu-id="24774-340">Security</span><span class="sxs-lookup"><span data-stu-id="24774-340">Security</span></span>

<span data-ttu-id="24774-341">セキュリティは、クラウド アプリの主要な考慮事項の 1 つであり、ハイブリッド クラウド アプリにとってはさらに重要になります。</span><span class="sxs-lookup"><span data-stu-id="24774-341">Security is one of the primary considerations for any cloud app and it becomes even more critical for hybrid cloud apps.</span></span>

<span data-ttu-id="24774-342">この要点の主要な説明については、優れたアーキテクチャの 5 つの要素にある "[*セキュリティ*](/azure/architecture/guide/pillars#security)" を参照してください。</span><span class="sxs-lookup"><span data-stu-id="24774-342">For the core discussion of this pillar, see [*Security*](/azure/architecture/guide/pillars#security) in the five pillars of architecture excellence.</span></span>

### <a name="security-checklist"></a><span data-ttu-id="24774-343">セキュリティ チェックリスト</span><span class="sxs-lookup"><span data-stu-id="24774-343">Security checklist</span></span>

<span data-ttu-id="24774-344">**セキュリティ侵害を想定します。**</span><span class="sxs-lookup"><span data-stu-id="24774-344">**Assume breach.**</span></span> <span data-ttu-id="24774-345">アプリの一部が侵害された場合は、同じ場所だけでなく、複数の場所にわたる侵害の拡散を最小限に抑えるためのソリューションが用意されていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="24774-345">If one part of the app is compromised, ensure there are solutions in place to minimize the spread of the breach, not only within the same location but also across locations.</span></span>

<span data-ttu-id="24774-346">**許可されたネットワーク アクセスを監視します。**</span><span class="sxs-lookup"><span data-stu-id="24774-346">**Monitor allowed network access.**</span></span> <span data-ttu-id="24774-347">アプリのネットワーク アクセス ポリシーを決定します。たとえば、特定のサブネットからのみアプリにアクセスし、アプリが正常に機能するために必要なコンポーネント間の最低限のポートとプロトコルのみを許可するなどです。</span><span class="sxs-lookup"><span data-stu-id="24774-347">Determine the network access policies for the app, such as only accessing the app from a specific subnet and only allow the minimum ports and protocols between the components required for the app to function properly.</span></span>

<span data-ttu-id="24774-348">**堅牢な認証を採用します。**</span><span class="sxs-lookup"><span data-stu-id="24774-348">**Employ robust authentication.**</span></span> <span data-ttu-id="24774-349">堅牢な認証方式は、アプリのセキュリティにとって重要です。</span><span class="sxs-lookup"><span data-stu-id="24774-349">A robust authentication scheme is critical for the security of your app.</span></span> <span data-ttu-id="24774-350">シングル サインオン機能を提供し、ユーザー名とパスワードでのサインオン、公開キーと秘密キー、2 要素認証または多要素認証、信頼されたセキュリティ グループのうち 1 つ以上のスキームを使用するフェデレーション ID プロバイダーを使用することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="24774-350">Consider using a federated identity provider that provides single sign-on capabilities and employs one or more of the following schemes: username and password sign-on, public and private keys, two-factor or multi-factor authentication, and trusted security groups.</span></span> <span data-ttu-id="24774-351">証明書の種類と要件に加えて、アプリ認証のための機密データやその他のシークレットを格納するための適切なリソースを決定します。</span><span class="sxs-lookup"><span data-stu-id="24774-351">Determine the appropriate resources to store sensitive data and other secrets for app authentication in addition to certificate types and their requirements.</span></span>

<span data-ttu-id="24774-352">**暗号化を使用します。**</span><span class="sxs-lookup"><span data-stu-id="24774-352">**Use encryption.**</span></span> <span data-ttu-id="24774-353">データ ストレージやクライアントの通信やアクセスなど、アプリのどの領域で暗号化を使用するかを特定します。</span><span class="sxs-lookup"><span data-stu-id="24774-353">Identify which areas of the app use encryption, such as for data storage or client communication and access.</span></span>

<span data-ttu-id="24774-354">**セキュリティで保護されたチャネルを使用します。**</span><span class="sxs-lookup"><span data-stu-id="24774-354">**Use secure channels.**</span></span> <span data-ttu-id="24774-355">セキュリティで保護されたクラウドをまたがるチャネルは、セキュリティと認証のチェック、リアルタイム保護、検疫、およびその他のサービスをクラウド全体で提供するために不可欠です。</span><span class="sxs-lookup"><span data-stu-id="24774-355">A secure channel across the clouds is critical for providing security and authentication checks, real-time protection, quarantine, and other services across clouds.</span></span>

<span data-ttu-id="24774-356">**ロールを定義して使用します。**</span><span class="sxs-lookup"><span data-stu-id="24774-356">**Define and use roles.**</span></span> <span data-ttu-id="24774-357">リソース構成とクラウド間での単一 ID アクセスのためのロールを実装します。</span><span class="sxs-lookup"><span data-stu-id="24774-357">Implement roles for resource configurations and single-identity access across clouds.</span></span> <span data-ttu-id="24774-358">アプリとそのプラットフォーム リソースに対するロールベースのアクセス制御 (RBAC) の要件を決定します。</span><span class="sxs-lookup"><span data-stu-id="24774-358">Determine the role-based access control (RBAC) requirements for the app and its platform resources.</span></span>

<span data-ttu-id="24774-359">**システムを監査します。**</span><span class="sxs-lookup"><span data-stu-id="24774-359">**Audit your system.**</span></span> <span data-ttu-id="24774-360">システムの監視では、アプリ コンポーネントと、関連するクラウド プラットフォーム操作の両方からデータをログに記録し、集計できます。</span><span class="sxs-lookup"><span data-stu-id="24774-360">System monitoring can log and aggregate data from both the app components and the related cloud platform operations.</span></span>

## <a name="summary"></a><span data-ttu-id="24774-361">まとめ</span><span class="sxs-lookup"><span data-stu-id="24774-361">Summary</span></span>

<span data-ttu-id="24774-362">この記事では、ハイブリッド アプリの作成および設計時に考慮する必要がある重要な項目のチェックリストを示しています。</span><span class="sxs-lookup"><span data-stu-id="24774-362">This article provides a checklist of items that are important to consider during the authoring and designing of your hybrid apps.</span></span> <span data-ttu-id="24774-363">アプリをデプロイする前にこれらの要点を確認することで、運用の停止時にこれらの課題に直面して、設計を再検討する必要が生じる事態を回避することができます。</span><span class="sxs-lookup"><span data-stu-id="24774-363">Reviewing these pillars before you deploy your app prevents you from running into these questions in production outages and potentially requiring you to revisit your design.</span></span>

<span data-ttu-id="24774-364">これは時間のかかる事前の作業のように思えるかもしれませんが、これらの要点に基づいてアプリを設計すれば、投資に見合う価値を簡単に得ることができます。</span><span class="sxs-lookup"><span data-stu-id="24774-364">It can seem like a time-consuming task beforehand, but you easily get your return on investment if you design your app based on these pillars.</span></span>

## <a name="next-steps"></a><span data-ttu-id="24774-365">次のステップ</span><span class="sxs-lookup"><span data-stu-id="24774-365">Next steps</span></span>

<span data-ttu-id="24774-366">詳細については、次のリソースを参照してください。</span><span class="sxs-lookup"><span data-stu-id="24774-366">For more information, see the following resources:</span></span>

- [<span data-ttu-id="24774-367">ハイブリッド クラウド</span><span class="sxs-lookup"><span data-stu-id="24774-367">Hybrid cloud</span></span>](https://azure.microsoft.com/overview/hybrid-cloud/)
- [<span data-ttu-id="24774-368">ハイブリッド クラウド アプリ</span><span class="sxs-lookup"><span data-stu-id="24774-368">Hybrid cloud apps</span></span>](https://azure.microsoft.com/solutions/hybrid-cloud-app/)
- [<span data-ttu-id="24774-369">クラウドの一貫性のための Azure Resource Manager テンプレートを開発する</span><span class="sxs-lookup"><span data-stu-id="24774-369">Develop Azure Resource Manager templates for cloud consistency</span></span>](https://aka.ms/consistency)
