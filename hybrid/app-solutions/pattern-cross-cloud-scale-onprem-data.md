---
title: Azure Stack Hub のクラウド間スケーリング (オンプレミスのデータ) パターン
description: Azure と Azure Stack Hub でオンプレミスのデータを使用するスケーラブルなクラウド間アプリを構築する方法について説明します。
author: BryanLa
ms.topic: article
ms.date: 11/05/2019
ms.author: bryanla
ms.reviewer: anajod
ms.lastreviewed: 11/05/2019
ms.openlocfilehash: edbb608fbf8e5288f29572bfe4cca98ffb3cb8fc
ms.sourcegitcommit: bb3e40b210f86173568a47ba18c3cc50d4a40607
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/17/2020
ms.locfileid: "84911128"
---
# <a name="cross-cloud-scaling-on-premises-data-pattern"></a><span data-ttu-id="8a3e6-103">クラウド間スケーリング (オンプレミスのデータ) パターン</span><span class="sxs-lookup"><span data-stu-id="8a3e6-103">Cross-cloud scaling (on-premises data) pattern</span></span>

<span data-ttu-id="8a3e6-104">Azure と Azure Stack Hub にまたがるハイブリッド アプリを構築する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-104">Learn how to build a hybrid app that spans Azure and Azure Stack Hub.</span></span> <span data-ttu-id="8a3e6-105">このパターンでは、単一のオンプレミス データ ソースをコンプライアンスに使用する方法についても説明します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-105">This pattern also shows you how to use a single on-premises data source for compliance.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="8a3e6-106">コンテキストと問題</span><span class="sxs-lookup"><span data-stu-id="8a3e6-106">Context and problem</span></span>

<span data-ttu-id="8a3e6-107">多くの組織では、大量の機密顧客データを収集して保存しています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-107">Many organizations collect and store massive amounts of sensitive customer data.</span></span> <span data-ttu-id="8a3e6-108">多くの場合、会社の規制や政府のポリシーにより、機密データをパブリック クラウドに格納することはできません。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-108">Frequently they're prevented from storing sensitive data in the public cloud because of corporate regulations or government policy.</span></span> <span data-ttu-id="8a3e6-109">その一方で、これらの組織は、パブリック クラウドのスケーラビリティを活用したいとも考えています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-109">Those organizations also want to take advantage of the scalability of the public cloud.</span></span> <span data-ttu-id="8a3e6-110">パブリック クラウドは、トラフィックの季節的なピークに対処できるため、顧客は必要なときに必要なハードウェアの料金を支払うだけで済みます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-110">The public cloud can handle seasonal peaks in traffic, allowing customers to pay for exactly the hardware they need, when they need it.</span></span>

## <a name="solution"></a><span data-ttu-id="8a3e6-111">解決策</span><span class="sxs-lookup"><span data-stu-id="8a3e6-111">Solution</span></span>

<span data-ttu-id="8a3e6-112">このソリューションを使用すると、プライベート クラウドのコンプライアンス面でのメリットとパブリック クラウドのスケーラビリティとを融合させることができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-112">The solution takes advantage of the compliance benefits of the private cloud, combining them with the scalability of the public cloud.</span></span> <span data-ttu-id="8a3e6-113">Azure と Azure Stack Hub のハイブリッド クラウドは、開発者に一貫したエクスペリエンスを提供します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-113">The Azure and Azure Stack Hub hybrid cloud provide a consistent experience for developers.</span></span> <span data-ttu-id="8a3e6-114">この一貫性により、彼らのスキルをパブリック クラウドとオンプレミスの両方の環境に応用できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-114">This consistency lets them apply their skills to both public cloud and on-premises environments.</span></span>

<span data-ttu-id="8a3e6-115">ソリューション デプロイ ガイドを使用すると、同じ Web アプリをパブリック クラウドとプライベート クラウドにデプロイできます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-115">The solution deployment guide allows you to deploy an identical web app to a public and private cloud.</span></span> <span data-ttu-id="8a3e6-116">また、プライベート クラウド上にホストされた、インターネットを介したルーティングが不可能なネットワークにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-116">You can also access a non-internet routable network hosted on the private cloud.</span></span> <span data-ttu-id="8a3e6-117">Web アプリの負荷が監視されます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-117">The web apps are monitored for load.</span></span> <span data-ttu-id="8a3e6-118">トラフィックが大幅に増加すると、プログラムは DNS レコードを操作して、トラフィックをパブリック クラウドにリダイレクトします。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-118">Upon a significant increase in traffic, a program manipulates DNS records to redirect traffic to the public cloud.</span></span> <span data-ttu-id="8a3e6-119">トラフィックが大量ではなくなると、DNS レコードは更新され、トラフィックは再びプライベート クラウドに送信されるようになります。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-119">When traffic is no longer significant, the DNS records are updated to direct traffic back to the private cloud.</span></span>

<span data-ttu-id="8a3e6-120">[![オンプレミスのデータを使用したクラウド間スケーリング パターン](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)</span><span class="sxs-lookup"><span data-stu-id="8a3e6-120">[![Cross-cloud scaling with on-prem data pattern](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)](media/pattern-cross-cloud-scale-onprem-data/solution-architecture.png)</span></span>

## <a name="components"></a><span data-ttu-id="8a3e6-121">Components</span><span class="sxs-lookup"><span data-stu-id="8a3e6-121">Components</span></span>

<span data-ttu-id="8a3e6-122">このソリューションでは、次のコンポーネントを使用します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-122">This solution uses the following components:</span></span>

| <span data-ttu-id="8a3e6-123">レイヤー</span><span class="sxs-lookup"><span data-stu-id="8a3e6-123">Layer</span></span> | <span data-ttu-id="8a3e6-124">コンポーネント</span><span class="sxs-lookup"><span data-stu-id="8a3e6-124">Component</span></span> | <span data-ttu-id="8a3e6-125">説明</span><span class="sxs-lookup"><span data-stu-id="8a3e6-125">Description</span></span> |
|----------|-----------|-------------|
| <span data-ttu-id="8a3e6-126">Azure</span><span class="sxs-lookup"><span data-stu-id="8a3e6-126">Azure</span></span> | <span data-ttu-id="8a3e6-127">Azure App Service</span><span class="sxs-lookup"><span data-stu-id="8a3e6-127">Azure App Service</span></span> | <span data-ttu-id="8a3e6-128">[Azure App Service](/azure/app-service/) を使用すると、Web アプリ、RESTful API アプリ、および Azure Functions を構築してホストすることができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-128">[Azure App Service](/azure/app-service/) allows you to build and host web apps, RESTful API apps, and Azure Functions.</span></span> <span data-ttu-id="8a3e6-129">すべて任意のプログラミング言語で行うことができ、インフラストラクチャを管理する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-129">All in the programming language of your choice, without managing infrastructure.</span></span> |
| | <span data-ttu-id="8a3e6-130">Azure Virtual Network</span><span class="sxs-lookup"><span data-stu-id="8a3e6-130">Azure Virtual Network</span></span>| <span data-ttu-id="8a3e6-131">[Azure Virtual Network (VNet)](/azure/virtual-network/virtual-networks-overview) は、Azure 内のプライベート ネットワークの基本的な構成ブロックです。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-131">[Azure Virtual Network (VNet)](/azure/virtual-network/virtual-networks-overview) is the fundamental building block for private networks in Azure.</span></span> <span data-ttu-id="8a3e6-132">VNet により、仮想マシン (VM) などのさまざまな種類の Azure リソースは、他の Azure リソース、インターネット、およびオンプレミスのネットワークと安全に通信することができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-132">VNet enables multiple Azure resource types, such as virtual machines (VM), to securely communicate with each other, the internet, and on-premises networks.</span></span> <span data-ttu-id="8a3e6-133">また、このソリューションでは、追加のネットワーク コンポーネントの使用方法も示します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-133">The solution also demonstrates the use of additional networking components:</span></span><br><span data-ttu-id="8a3e6-134">- アプリとゲートウェイ サブネット。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-134">- app and gateway subnets.</span></span><br><span data-ttu-id="8a3e6-135">- ローカルのオンプレミス ネットワーク ゲートウェイ。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-135">- a local on-premises network gateway.</span></span><br><span data-ttu-id="8a3e6-136">- サイト間 VPN ゲートウェイ接続として機能する仮想ネットワーク ゲートウェイ。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-136">- a virtual network gateway, which acts as a site-to-site VPN gateway connection.</span></span><br><span data-ttu-id="8a3e6-137">- パブリック IP アドレス。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-137">- a public IP address.</span></span><br><span data-ttu-id="8a3e6-138">- ポイント対サイト VPN 接続。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-138">- a point-to-site VPN connection.</span></span><br><span data-ttu-id="8a3e6-139">- DNS ドメインをホストし、名前解決を提供するための Azure DNS。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-139">- Azure DNS for hosting DNS domains and providing name resolution.</span></span> |
| | <span data-ttu-id="8a3e6-140">Azure の Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="8a3e6-140">Azure Traffic Manager</span></span> | <span data-ttu-id="8a3e6-141">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview) は、DNS ベースのトラフィック ロード バランサーです。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-141">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview) is a DNS-based traffic load balancer.</span></span> <span data-ttu-id="8a3e6-142">これを使用すると、さまざまなデータセンターのサービス エンドポイントへのユーザー トラフィックの分散を制御できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-142">It allows you to control the distribution of user traffic for service endpoints in different datacenters.</span></span> |
| | <span data-ttu-id="8a3e6-143">Azure Application Insights</span><span class="sxs-lookup"><span data-stu-id="8a3e6-143">Azure Application Insights</span></span> | <span data-ttu-id="8a3e6-144">[Application Insights](/azure/azure-monitor/app/app-insights-overview) は、複数のプラットフォームでアプリを構築および管理する Web 開発者向けの拡張可能なアプリケーション パフォーマンス管理サービスです。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-144">[Application Insights](/azure/azure-monitor/app/app-insights-overview) is an extensible Application Performance Management service for web developers building and managing apps on multiple platforms.</span></span>|
| | <span data-ttu-id="8a3e6-145">Azure Functions</span><span class="sxs-lookup"><span data-stu-id="8a3e6-145">Azure Functions</span></span> | <span data-ttu-id="8a3e6-146">[Azure Functions](/azure/azure-functions/) を使用すると、最初に VM を作成したり、Web アプリを公開したりしなくても、サーバーレス環境でコードを実行できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-146">[Azure Functions](/azure/azure-functions/) allows you to execute your code in a serverless environment without having to first create a VM or publish a web app.</span></span> |
| | <span data-ttu-id="8a3e6-147">Azure の自動スケール</span><span class="sxs-lookup"><span data-stu-id="8a3e6-147">Azure Autoscale</span></span> | <span data-ttu-id="8a3e6-148">[自動スケーリング](/azure/azure-monitor/platform/autoscale-overview)は、Cloud Services、VM、および Web アプリの組み込み機能です。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-148">[Autoscale](/azure/azure-monitor/platform/autoscale-overview) is a built-in feature of Cloud Services, VMs, and web apps.</span></span> <span data-ttu-id="8a3e6-149">この機能を使用すると、アプリは、需要の変化に応じて最高のパフォーマンスを発揮できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-149">The feature allows apps to perform their best when demand changes.</span></span> <span data-ttu-id="8a3e6-150">アプリは、トラフィックの急増に合わせて調整を行い、メトリクスが変化すると通知し、必要に応じてスケーリングします。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-150">Apps will adjust for traffic spikes, notifying you when metrics change and scaling as needed.</span></span> |
| <span data-ttu-id="8a3e6-151">Azure Stack Hub</span><span class="sxs-lookup"><span data-stu-id="8a3e6-151">Azure Stack Hub</span></span> | <span data-ttu-id="8a3e6-152">IaaS コンピューティング</span><span class="sxs-lookup"><span data-stu-id="8a3e6-152">IaaS Compute</span></span> | <span data-ttu-id="8a3e6-153">Azure Stack Hub では、Azure で有効なものと同一のアプリ モデル、セルフサービス ポータル、および API を使用できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-153">Azure Stack Hub allows you to use the same app model, self-service portal, and APIs enabled by Azure.</span></span> <span data-ttu-id="8a3e6-154">Azure Stack Hub IaaS では、一貫性のあるハイブリッド クラウド デプロイに対する幅広いオープン ソース テクノロジを使用できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-154">Azure Stack Hub IaaS allows a broad range of open-source technologies for consistent hybrid cloud deployments.</span></span> <span data-ttu-id="8a3e6-155">たとえば、このソリューション例では、SQL Server に Windows Server VM を使用しています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-155">The solution example uses a Windows Server VM to SQL Server, for example.</span></span>|
| | <span data-ttu-id="8a3e6-156">Azure App Service</span><span class="sxs-lookup"><span data-stu-id="8a3e6-156">Azure App Service</span></span> | <span data-ttu-id="8a3e6-157">Azure Web アプリと同様、このソリューションでは、[Azure Stack Hub 上の Azure App Service](/azure-stack/operator/azure-stack-app-service-overview) を使用して Web アプリをホストします。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-157">Just like the Azure web app, the solution uses [Azure App Service on Azure Stack Hub](/azure-stack/operator/azure-stack-app-service-overview) to host the web app.</span></span> |
| | <span data-ttu-id="8a3e6-158">ネットワーク</span><span class="sxs-lookup"><span data-stu-id="8a3e6-158">Networking</span></span> | <span data-ttu-id="8a3e6-159">Azure Stack Hub Virtual Network は、Azure Virtual Network とまったく同様に機能します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-159">The Azure Stack Hub Virtual Network works exactly like the Azure Virtual Network.</span></span> <span data-ttu-id="8a3e6-160">カスタム ホスト名など、使用する多くのネットワーク コンポーネントも同じです。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-160">It uses many of the same networking components, including custom hostnames.</span></span>
| <span data-ttu-id="8a3e6-161">Azure DevOps Services</span><span class="sxs-lookup"><span data-stu-id="8a3e6-161">Azure DevOps Services</span></span> | <span data-ttu-id="8a3e6-162">サインアップ</span><span class="sxs-lookup"><span data-stu-id="8a3e6-162">Sign up</span></span> | <span data-ttu-id="8a3e6-163">ビルド、テスト、およびデプロイのための継続的な統合を迅速に設定します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-163">Quickly set up continuous integration for build, test, and deployment.</span></span> <span data-ttu-id="8a3e6-164">詳細については、「[Sign up, sign in to Azure DevOps](/azure/devops/user-guide/sign-up-invite-teammates?view=azure-devops)」 (Azure DevOps へのサインアップ、サインイン) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-164">For more information, see [Sign up, sign in to Azure DevOps](/azure/devops/user-guide/sign-up-invite-teammates?view=azure-devops).</span></span> |
| | <span data-ttu-id="8a3e6-165">Azure Pipelines</span><span class="sxs-lookup"><span data-stu-id="8a3e6-165">Azure Pipelines</span></span> | <span data-ttu-id="8a3e6-166">継続的インテグレーション/継続的デリバリーに [Azure Pipelines](/azure/devops/pipelines/agents/agents?view=azure-devops)を使用します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-166">Use [Azure Pipelines](/azure/devops/pipelines/agents/agents?view=azure-devops) for Continuous Integration/Continuous delivery.</span></span> <span data-ttu-id="8a3e6-167">Azure Pipelines を使用すると、ホストされるビルド、リリース エージェント、およびリリース定義を管理できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-167">Azure Pipelines allows you to manage hosted build and release agents and definitions.</span></span> |
| | <span data-ttu-id="8a3e6-168">コード リポジトリ</span><span class="sxs-lookup"><span data-stu-id="8a3e6-168">Code repository</span></span> | <span data-ttu-id="8a3e6-169">複数のコード リポジトリを利用して、開発パイプラインを効率化します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-169">Leverage multiple code repositories to streamline your development pipeline.</span></span> <span data-ttu-id="8a3e6-170">GitHub、Bitbucket、Dropbox、OneDrive、Azure Repos 内の既存のコード リポジトリを使用します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-170">Use existing code repositories in GitHub, Bitbucket, Dropbox, OneDrive, and Azure Repos.</span></span> |

## <a name="issues-and-considerations"></a><span data-ttu-id="8a3e6-171">問題と注意事項</span><span class="sxs-lookup"><span data-stu-id="8a3e6-171">Issues and considerations</span></span>

<span data-ttu-id="8a3e6-172">このソリューションの実装方法を決めるときには、以下の点を考慮してください。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-172">Consider the following points when deciding how to implement this solution:</span></span>

### <a name="scalability"></a><span data-ttu-id="8a3e6-173">スケーラビリティ</span><span class="sxs-lookup"><span data-stu-id="8a3e6-173">Scalability</span></span>

<span data-ttu-id="8a3e6-174">Azure と Azure Stack Hub は、今日のグローバルに分散したビジネスのニーズに対応するのに非常に適しています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-174">Azure and Azure Stack Hub are uniquely suited to support the needs of today's globally distributed business.</span></span>

#### <a name="hybrid-cloud-without-the-hassle"></a><span data-ttu-id="8a3e6-175">手間のかからないハイブリッド クラウド</span><span class="sxs-lookup"><span data-stu-id="8a3e6-175">Hybrid cloud without the hassle</span></span>

<span data-ttu-id="8a3e6-176">Microsoft は、オンプレミスの資産と Azure Stack Hub および Azure を統合した、他に類のない単一の統合ソリューションを提供します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-176">Microsoft offers an unrivaled integration of on-premises assets with Azure Stack Hub and Azure in one unified solution.</span></span> <span data-ttu-id="8a3e6-177">この統合により、複数のポイント ソリューションやさまざまなクラウド プロバイダーを管理する煩雑さを軽減します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-177">This integration eliminates the hassle of managing multiple point solutions and a mix of cloud providers.</span></span> <span data-ttu-id="8a3e6-178">クラウド間スケーリングにより、数回のクリックだけで Azure の機能を利用できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-178">With cross-cloud scaling, the power of Azure is just a few clicks away.</span></span> <span data-ttu-id="8a3e6-179">クラウド バーストを使用して Azure Stack Hub を Azure に接続するだけで、必要に応じて自分のデータとアプリを Azure で使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-179">Just connect your Azure Stack Hub to Azure with cloud bursting and your data and apps will be available in Azure when needed.</span></span>

- <span data-ttu-id="8a3e6-180">セカンダリ DR サイトを構築して保守する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-180">Eliminate the need to build and maintain a secondary DR site.</span></span>
- <span data-ttu-id="8a3e6-181">テープによるバックアップを排除することで時間とコストを節約し、最大 99 年分のバックアップデータを Azure に保存できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-181">Save time and money by eliminating tape backup and house up to 99 years of backup data in Azure.</span></span>
- <span data-ttu-id="8a3e6-182">実行中の Hyper-V、物理サーバー (プレビュー)、VMware (プレビュー) のワークロードを簡単に Azure に移行し、クラウドの経済性と弾力性を活用できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-182">Easily migrate running Hyper-V, Physical (in preview), and VMware (in preview) workloads into Azure to leverage the economics and elasticity of the cloud.</span></span>
- <span data-ttu-id="8a3e6-183">運用ワークロードに影響を与えることなく、Azure 内のオンプレミス資産の複製されたコピーに対してコンピューティング負荷の高いレポート生成や分析を実行できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-183">Run compute intensive reports or analytics on a replicated copy of your on-premises asset in Azure without impacting production workloads.</span></span>
- <span data-ttu-id="8a3e6-184">オンプレミスのワークロードをクラウドにバーストして、Azure で実行することができます。必要に応じてより大規模なコンピューティング テンプレートを使用することもできます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-184">Burst into the cloud and run on-premises workloads in Azure, with larger compute templates when needed.</span></span> <span data-ttu-id="8a3e6-185">ハイブリッドは、必要なときに必要な能力を提供します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-185">Hybrid gives you the power you need, when you need it.</span></span>
- <span data-ttu-id="8a3e6-186">Azure では、わずか数回のクリックで多層開発環境を作成できます。また、ライブ実稼働データを開発/テスト環境にレプリケートし、ほぼリアルタイムで同期することもできます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-186">Create multi-tier development environments in Azure with a few clicks–even replicate live production data to your dev/test environment to keep it in near real-time sync.</span></span>

#### <a name="economy-of-cross-cloud-scaling-with-azure-stack-hub"></a><span data-ttu-id="8a3e6-187">Azure Stack Hub によるクラウド間スケーリングの経済性</span><span class="sxs-lookup"><span data-stu-id="8a3e6-187">Economy of cross-cloud scaling with Azure Stack Hub</span></span>

<span data-ttu-id="8a3e6-188">クラウド バーストの主な利点は、経済的な節約です。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-188">The key advantage to cloud bursting is economical savings.</span></span> <span data-ttu-id="8a3e6-189">リソースに対する需要がある場合、追加リソースについてのみ料金が発生します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-189">You only pay for the additional resources when there's a demand for those resources.</span></span> <span data-ttu-id="8a3e6-190">必要のない余分な容量にコストをかけることや、需要のピークと変動を予測することが不要になります。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-190">No more spending on unnecessary extra capacity or trying to predict demand peaks and fluctuations.</span></span>

#### <a name="reduce-high-demand-loads-into-the-cloud"></a><span data-ttu-id="8a3e6-191">クラウドに対する高需要の負荷を軽減</span><span class="sxs-lookup"><span data-stu-id="8a3e6-191">Reduce high demand loads into the cloud</span></span>

<span data-ttu-id="8a3e6-192">クラウド間スケーリングを使用して、処理の負荷を分散させることができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-192">Cross-cloud scaling can be used to shoulder processing burdens.</span></span> <span data-ttu-id="8a3e6-193">基本アプリをパブリック クラウドに移行し、ビジネスクリティカルなアプリのためにローカル リソースを解放することで、負荷を分散します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-193">Load is distributed by moving basic apps to the public cloud, freeing up local resources for business-critical apps.</span></span> <span data-ttu-id="8a3e6-194">アプリをプライベート クラウドで動作させ、需要への対処が必要なときにのみパブリック クラウドにバーストできます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-194">An app can be applied to the private cloud, then burst to the public cloud only when necessary to meet demands.</span></span>

### <a name="availability"></a><span data-ttu-id="8a3e6-195">可用性</span><span class="sxs-lookup"><span data-stu-id="8a3e6-195">Availability</span></span>

<span data-ttu-id="8a3e6-196">グローバルなデプロイには特有の課題があります。たとえば、接続の変動が大きいこと、政府の規制が地域によって異なることなどがあります。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-196">Global deployment has its own challenges, like variable connectivity and differing government regulations by region.</span></span> <span data-ttu-id="8a3e6-197">開発者は、1 つのアプリだけを開発し、要件が異なるさまざまな理由でデプロイすることができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-197">Developers can develop just one app and then deploy it across different reasons with different requirements.</span></span> <span data-ttu-id="8a3e6-198">アプリを Azure パブリック クラウドにデプロイし、追加のインスタンスまたはコンポーネントをローカルにデプロイします。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-198">Deploy your app to the Azure public cloud, then deploy additional instances or components locally.</span></span> <span data-ttu-id="8a3e6-199">Azure を使用すると、すべてのインスタンス間のトラフィックを管理できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-199">You can manage traffic between all instances using Azure.</span></span>

### <a name="manageability"></a><span data-ttu-id="8a3e6-200">管理の容易性</span><span class="sxs-lookup"><span data-stu-id="8a3e6-200">Manageability</span></span>

#### <a name="a-single-consistent-development-approach"></a><span data-ttu-id="8a3e6-201">単一の一貫した開発アプローチ</span><span class="sxs-lookup"><span data-stu-id="8a3e6-201">A single, consistent development approach</span></span>

<span data-ttu-id="8a3e6-202">Azure と Azure Stack Hub を使用すると、組織全体で一貫した一連の開発ツールを使用できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-202">Azure and Azure Stack Hub let you use a consistent set of development tools across the organization.</span></span> <span data-ttu-id="8a3e6-203">この一貫性により、継続的インテグレーションおよび継続的開発 (CI/CD) のプラクティスをより簡単に実装できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-203">This consistency makes it easier to implement a practice of continuous integration and continuous development (CI/CD).</span></span> <span data-ttu-id="8a3e6-204">Azure または Azure Stack Hub にデプロイされた多くのアプリとサービスは互換性があり、どちらの場所でもシームレスに実行できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-204">Many apps and services deployed in Azure or Azure Stack Hub are interchangeable and can run in either location seamlessly.</span></span>

<span data-ttu-id="8a3e6-205">ハイブリッド CI/CD パイプラインは、次の場合に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-205">A hybrid CI/CD pipeline can help you:</span></span>

- <span data-ttu-id="8a3e6-206">コード リポジトリへのコード コミットに基づいて、新しいビルドを開始します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-206">Initiate a new build based on code commits to your code repository.</span></span>
- <span data-ttu-id="8a3e6-207">ユーザー受け入れテストのため、新しくビルドされたコードを Azure に自動的にデプロイします。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-207">Automatically deploy your newly built code to Azure for user acceptance testing.</span></span>
- <span data-ttu-id="8a3e6-208">コードがテストを通過すると、自動的に Azure Stack Hub にデプロイします。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-208">Once your code has passed testing, automatically deploy to Azure Stack Hub.</span></span>

### <a name="a-single-consistent-identity-management-solution"></a><span data-ttu-id="8a3e6-209">単一の一貫した ID 管理ソリューション</span><span class="sxs-lookup"><span data-stu-id="8a3e6-209">A single, consistent identity management solution</span></span>

<span data-ttu-id="8a3e6-210">Azure Stack Hub は、Azure Active Directory (Azure AD) および Active Directory フェデレーション サービス (AD FS) の両方と連携します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-210">Azure Stack Hub works with both Azure Active Directory (Azure AD) and Active Directory Federation Services (ADFS).</span></span> <span data-ttu-id="8a3e6-211">Azure Stack Hub では、接続されたシナリオで Azure AD と連携します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-211">Azure Stack Hub works with Azure AD in connected scenarios.</span></span> <span data-ttu-id="8a3e6-212">接続されていない環境では、ADFS を、切断されたソリューションとして使用できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-212">For environments that don't have connectivity, you can use ADFS as a disconnected solution.</span></span> <span data-ttu-id="8a3e6-213">サービス プリンシパルを使用してアプリへのアクセスが許可され、Azure Resource Manager を介してリソースをデプロイまたは構成することができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-213">Service principals are used to grant access to apps, allowing them to deploy or configure resources through Azure Resource Manager.</span></span>

### <a name="security"></a><span data-ttu-id="8a3e6-214">Security</span><span class="sxs-lookup"><span data-stu-id="8a3e6-214">Security</span></span>

#### <a name="ensure-compliance-and-data-sovereignty"></a><span data-ttu-id="8a3e6-215">コンプライアンスの確保とデータの主権</span><span class="sxs-lookup"><span data-stu-id="8a3e6-215">Ensure compliance, and data sovereignty</span></span>

<span data-ttu-id="8a3e6-216">Azure Stack Hub により、パブリック クラウドを使用する場合と同様、複数の国で同じサービスを実行できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-216">Azure Stack Hub lets you run the same service across multiple countries as you would if using a public cloud.</span></span> <span data-ttu-id="8a3e6-217">各国のデータセンターに同じアプリをデプロイすることで、データの主権要件を満たすことができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-217">Deploying the same app in datacenters in each country allows data sovereignty requirements to be met.</span></span> <span data-ttu-id="8a3e6-218">この機能により、個人データを各国の境界内で保持することができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-218">This capability ensures personal data is kept within each country's borders.</span></span>

#### <a name="azure-stack-hub---security-posture"></a><span data-ttu-id="8a3e6-219">Azure Stack Hub - セキュリティ体制</span><span class="sxs-lookup"><span data-stu-id="8a3e6-219">Azure Stack Hub - security posture</span></span>

<span data-ttu-id="8a3e6-220">セキュリティ体制には、堅牢で継続的なサービス プロセスが不可欠です。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-220">There's no security posture without a solid, continuous servicing process.</span></span> <span data-ttu-id="8a3e6-221">そのため、Microsoft では、インフラストラクチャ全体にシームレスに修正プログラムや更新プログラムを適用するオーケストレーション エンジンに投資しました。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-221">For this reason, Microsoft invested in an orchestration engine that applies patches and updates seamlessly across the entire infrastructure.</span></span>

<span data-ttu-id="8a3e6-222">Azure Stack Hub OEM パートナーとのパートナーシップにより、Microsoft は同じセキュリティ体制を OEM 固有のコンポーネント (ハードウェア ライフサイクル ホストや、その上で実行されるソフトウェアなど) に拡張しています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-222">Thanks to partnerships with Azure Stack Hub OEM partners, Microsoft extends the same security posture to OEM-specific components, like the Hardware Lifecycle Host and the software running on top of it.</span></span> <span data-ttu-id="8a3e6-223">このパートナーシップにより、Azure Stack Hub に、インフラストラクチャ全体で一貫した堅牢なセキュリティ体制を確立できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-223">This partnership ensures Azure Stack Hub has a uniform, solid security posture across the entire infrastructure.</span></span> <span data-ttu-id="8a3e6-224">このため、お客様は、アプリのワークロードを構築し、セキュリティで保護することができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-224">In turn, customers can build and secure their app workloads.</span></span>

#### <a name="use-of-service-principals-via-powershell-cli-and-azure-portal"></a><span data-ttu-id="8a3e6-225">PowerShell、CLI、Azure portal を介したサービス プリンシパルの使用</span><span class="sxs-lookup"><span data-stu-id="8a3e6-225">Use of service principals via PowerShell, CLI, and Azure portal</span></span>

<span data-ttu-id="8a3e6-226">スクリプトまたはアプリに対してリソースへのアクセスを許可するには、アプリの ID を設定し、アプリ自身の資格情報でアプリを認証できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-226">To give resource access to a script or app, set up an identity for your app and authenticate the app with its own credentials.</span></span> <span data-ttu-id="8a3e6-227">この ID はサービス プリンシパルと呼ばれており、これを使用して次のことが可能になります。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-227">This identity is known as a service principal and lets you:</span></span>

- <span data-ttu-id="8a3e6-228">アプリ ID に対して、お客様自身のアクセス許可とは異なり、かつアプリのニーズだけに制限されたアクセス許可を割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-228">Assign permissions to the app identity that are different than your own permissions and are restricted to precisely the app's needs.</span></span>
- <span data-ttu-id="8a3e6-229">無人スクリプトを実行するときに、証明書を使用して認証できます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-229">Use a certificate for authentication when executing an unattended script.</span></span>

<span data-ttu-id="8a3e6-230">サービス プリンシパルを作成する方法、および資格証明に証明書を使用する方法の詳細については、「[アプリ ID を使用してリソースにアクセスする](/azure-stack/operator/azure-stack-create-service-principals)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-230">For more information about service principal creation and using a certificate for credentials, see [Use an app identity to access resources](/azure-stack/operator/azure-stack-create-service-principals).</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="8a3e6-231">このパターンを使用する状況</span><span class="sxs-lookup"><span data-stu-id="8a3e6-231">When to use this pattern</span></span>

- <span data-ttu-id="8a3e6-232">組織は、DevOps アプローチを既に使用しているか、または近い将来にそれを予定しています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-232">My organization is using a DevOps approach, or has one planned for the near future.</span></span>
- <span data-ttu-id="8a3e6-233">Azure Stack Hub の実装およびパブリック クラウド全体で、CI/CD プラクティスを実装したいと考えています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-233">I want to implement CI/CD practices across my Azure Stack Hub implementation and the public cloud.</span></span>
- <span data-ttu-id="8a3e6-234">クラウド環境とオンプレミス環境にまたがって CI/CD パイプラインを統合したいと考えています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-234">I want to consolidate the CI/CD pipeline across cloud and on-premises environments.</span></span>
- <span data-ttu-id="8a3e6-235">クラウド サービスまたはオンプレミスのサービスを使用してシームレスにアプリを開発できる必要があります。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-235">I want the ability to develop apps seamlessly using cloud or on-premises services.</span></span>
- <span data-ttu-id="8a3e6-236">クラウドおよびオンプレミスのアプリで一貫した開発者スキルを活用したいと考えています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-236">I want to leverage consistent developer skills across cloud and on-premises apps.</span></span>
- <span data-ttu-id="8a3e6-237">Azure を使用していますが、オンプレミスの Azure Stack Hub クラウドで作業している開発者もいます。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-237">I'm using Azure but I have developers who are working in an on-premises Azure Stack Hub cloud.</span></span>
- <span data-ttu-id="8a3e6-238">オンプレミスのアプリ エクスペリエンスでは、季節的な変動、周期的な変動、または予測できない変動により需要が急増します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-238">My on-premises apps experience spikes in demand during seasonal, cyclical, or unpredictable fluctuations.</span></span>
- <span data-ttu-id="8a3e6-239">オンプレミスのコンポーネントがあり、クラウドを使用してそれらをシームレスにスケーリングしたいと考えています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-239">I have on-premises components and I want to use the cloud to scale them seamlessly.</span></span>
- <span data-ttu-id="8a3e6-240">クラウドのスケーラビリティが必要ですが、アプリは可能な限りオンプレミスで実行したいと考えています。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-240">I want cloud scalability but I want my app to run on-premises as much as possible.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8a3e6-241">次のステップ</span><span class="sxs-lookup"><span data-stu-id="8a3e6-241">Next steps</span></span>

<span data-ttu-id="8a3e6-242">この記事で紹介したトピックの関連情報:</span><span class="sxs-lookup"><span data-stu-id="8a3e6-242">To learn more about topics introduced in this article:</span></span>

- <span data-ttu-id="8a3e6-243">このパターンの使用方法の概要については、「[Dynamically scale apps between datacenters and public cloud](https://www.youtube.com/watch?v=2lw8zOpJTn0)」(データセンターとパブリック クラウド間でアプリを動的にスケーリングする) を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-243">Watch [Dynamically scale apps between datacenters and public cloud](https://www.youtube.com/watch?v=2lw8zOpJTn0) for an overview of how this pattern is used.</span></span>
- <span data-ttu-id="8a3e6-244">ベスト プラクティスの詳細とその他の疑問の回答を確認するには、「[ハイブリッド アプリケーション設計に関する考慮事項](overview-app-design-considerations.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-244">See [Hybrid app design considerations](overview-app-design-considerations.md) to learn more about best practices and to answer additional questions you might have.</span></span>
- <span data-ttu-id="8a3e6-245">このパターンでは、Azure Stack Hub を含む Azure Stack 製品ファミリを使用します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-245">This pattern uses the Azure Stack family of products, including Azure Stack Hub.</span></span> <span data-ttu-id="8a3e6-246">製品とソリューションのポートフォリオ全体の詳細について、[Azure Stack ファミリの製品とソリューション](/azure-stack)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-246">See the [Azure Stack family of products and solutions](/azure-stack) to learn more about the entire portfolio of products and solutions.</span></span>

<span data-ttu-id="8a3e6-247">ソリューションの例をテストする準備ができたら、[クラウド間スケーリング (オンプレミスのデータ) のソリューション デプロイ ガイド](solution-deployment-guide-cross-cloud-scaling-onprem-data.md)に進んでください。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-247">When you're ready to test the solution example, continue with the [cross-cloud scaling (on-premises data) solution deployment guide](solution-deployment-guide-cross-cloud-scaling-onprem-data.md).</span></span> <span data-ttu-id="8a3e6-248">デプロイ ガイドでは、コンポーネントをデプロイしてテストするための詳細な手順について説明します。</span><span class="sxs-lookup"><span data-stu-id="8a3e6-248">The deployment guide provides step-by-step instructions for deploying and testing its components.</span></span>
